<!doctype html>
<html lang="en">
<head>
    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon and Manifest -->
    <link rel="icon" type="image/x-icon" href="icon/favicon.ico">
    <link rel="apple-touch-icon" href="/icon/apple-touch-icon.png">
    <link rel="manifest" href="manifest.webmanifest">
    <!-- SEO Meta Tags -->
    <meta name="description" content="Convert text to emojis or encrypt text with emojis and turn them to even more emojis." />
    <meta name="keywords" content="Encrypt,Decrypt,AES,Blowfish,AES256,Encryption,Online,HTML,Javascript,Offline,Download,Sourcecode,Emoji,Emo" />
    <meta name="author" content="Marques Xiaomi" />
    <meta name="copyright" content="Maxim Schulz" />
    <meta name="page-topic" content="Computer" />
    <meta http-equiv="Reply-to" content="maxim@omg.lol" />
    <meta name="expires" content="" />
    <meta name="revisit-after" content="2 days" />
    <!-- CSS and JS Links -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <title>üåò - to the moon! Text to Emoji and Emoji-Encryption</title>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap.bundle.js"></script>
    <script src="js/crypto.js"></script>
    <style>
        body,
        html {
            height: 100%;
            overflow-x: hidden;
        }

        .info-section {
            left: 100%;
        }

        .encrypt-section {
            left: -100%;
        }

        .main-container {
            position: relative;
        }

        .main-content {
            position: absolute;
            width: 100%;
        }

        .faq-button {
            text-align: left;
            width: 100%;
            border: none;
            background: none;
            padding: 0;
            white-space: normal;
            word-break: break-word;
        }

        .btn {
            border-color: #ced4da; /* Light gray border */
        }

        .btn:hover {
            background-color: #e2e6ea; /* Slightly darker on hover */
        }

        /* Default placeholder color */
        .form-control::placeholder {
            color: #6c757d; /* Bootstrap's default placeholder color */
        }

        /* Placeholder color in dark mode */
        .dark-mode .form-control::placeholder {
            color: #cccccc; /* Light gray placeholder color for dark mode */
        }

    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" id="navbarBrand" href="#">Text üìÑ üîÑ üåà Emoji</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Navbar Menu -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <!-- Choose App Dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="chooseAppMenu" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Choose App
                    </a>
                    <div class="dropdown-menu" aria-labelledby="appMenu">
                        <a class="dropdown-item" id="convertMenu" href="?convert">üîÑ Convert</a>
                        <a class="dropdown-item" id="encryptMenu" href="?encrypt">üîê Encrypt</a>
                    </div>
                </li>
                <!-- About Menu Item -->
                <li class="nav-item">
                    <a class="nav-link" id="aboutMenu" href="?about">About</a>
                </li>
                <!-- Dark Mode Toggle -->
                <li class="nav-item">
                    <a class="nav-link" id="darkModeMenu">Enable Dark Mode</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="languageMenu" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Language
                    </a>
                    <div class="dropdown-menu" aria-labelledby="languageMenu" id="languageMenuItems">
                        <!-- Language links with full site links -->
                        <a class="dropdown-item" href="?convert" data-lang-code="en">English üá∫üá∏</a>
                        <a class="dropdown-item" href="?convert&lang=de" data-lang-code="de">German üá©üá™</a>
                        <a class="dropdown-item" href="?convert&lang=zh" data-lang-code="zh">Chinese üá®üá≥</a>
                        <a class="dropdown-item" href="?convert&lang=ru" data-lang-code="ru">Russian üá∑üá∫</a>
                        <a class="dropdown-item" href="?convert&lang=es" data-lang-code="es">Spanish üá™üá∏</a>
                        <a class="dropdown-item" href="?convert&lang=fr" data-lang-code="fr">French üá´üá∑</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <!-- Main Content -->
    <div class="main-container">
        <!-- Encryption/Decryption Section -->
        <div class="main-content p-3 encrypt-section" id="encryptSection">
            <form class="form">
                <!-- Message Input -->
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">‚úâÔ∏è</span>
                    </div>
                    <textarea class="form-control" placeholder="Message" aria-label="Emoji" id="encryptMessageInput" rows="5"></textarea>
                    <div class="input-group-append">
                        <button id="clearEncryptInputButton" type="button" class="btn btn-secondary btn-block bg-dark">Delete <br> Message</button>
                    </div>
                </div>
                <!-- Key Input -->
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="keyIcon">üîë</span>
                    </div>
                    <input type="text" placeholder="(optional)" class="form-control" id="keyInput" aria-describedby="keyIcon">
                    <div class="input-group-append">
                        <button id="generateKeyButton" type="button" class="btn btn-secondary btn-block bg-dark">üîÑ</button>
                    </div>
                    <div class="input-group-append">
                        <button id="copyKeyButton" type="button" class="btn btn-secondary bg-dark btn-block">Copy</button>
                    </div>
                </div>
                <hr>
                <!-- Key Storage Instructions -->
                <div id="keyInstructions" class="mb-2">
                    Load or save keys
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <select class="form-control" id="keySlotSelect">
                                <option value="1">Slot 1Ô∏è‚É£</option>
                                <option value="2">Slot 2Ô∏è‚É£</option>
                                <option value="3">Slot 3Ô∏è‚É£</option>
                                <option value="4">Slot 4Ô∏è‚É£</option>
                                <option value="5">Slot 5Ô∏è‚É£</option>
                            </select>
                        </div>
                    </div>
                    <div class="col">
                        <button id="loadKeyButton" type="button" class="btn btn-secondary bg-dark btn-block mb-2">üì≤ Load</button>
                        <button id="saveKeyButton" type="button" class="btn btn-secondary bg-dark btn-block mb-2">üíæ Save</button>
                    </div>
                </div>
                <hr>
                <!-- Encrypt/Decrypt Button -->
                <button id="encryptDecryptButton" type="button" class="btn btn-secondary bg-dark btn-block mb-2">üîÄ Encrypt / Decrypt</button>
            </form>
            <hr>
            <!-- Output Message -->
            <div class="input-group mb-3">
                <textarea class="form-control" aria-label="Emoji" id="encryptOutputTextarea" rows="10" readonly>Decrypted/Encrypted message</textarea>
                <div class="input-group-append">
                    <button id="copyEncryptOutputButton" type="button" class="btn btn-secondary btn-block bg-dark">Copy <br>to clipboard</button>
                </div>
            </div>
        </div>
        <!-- Conversion Section -->
        <div class="main-content p-3 convert-section" id="convertSection">
            <form class="form">
                <!-- Message Input -->
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">‚úâÔ∏è</span>
                    </div>
                    <textarea class="form-control" placeholder="Message" aria-label="Emoji" id="convertMessageInput" rows="5"></textarea>
                    <div class="input-group-append">
                        <button id="clearConvertInputButton" type="button" class="btn btn-secondary btn-block bg-dark">Delete <br> Message</button>
                    </div>
                </div>
                <hr>
                <!-- Convert Button -->
                <button id="convertButton" type="button" class="btn btn-secondary bg-dark btn-block mb-2">üîÑ Convert</button>
            </form>
            <hr>
            <!-- Output Message -->
            <div class="input-group mb-3">
                <textarea class="form-control" aria-label="Emoji" id="convertOutputTextarea" rows="10" readonly>Converted message</textarea>
                <div class="input-group-append">
                    <button id="copyConvertOutputButton" type="button" class="btn btn-secondary btn-block bg-dark">Copy <br>to clipboard</button>
                </div>
            </div>
        </div>
        <!-- About Section -->
		<div class="p-3 main-content info-section" id="aboutSection">
            <div class="text-center">
                <h6 id="explanation">[Explanation text]</h6>
            </div>
            <hr>
            <!-- FAQ Section -->
            <div class="accordion" id="faqAccordion">
                <!-- FAQ Item 1 -->
                <div class="card">
                    <div class="card-header" id="faqHeading1">
                        <h5 class="mb-0">
                            <button class="btn faq-button" type="button" data-toggle="collapse" data-target="#faqCollapse1" aria-expanded="true" aria-controls="faqCollapse1">
                                <strong id="faqQuestion1">What is NasaEmoji?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse1" class="collapse show" aria-labelledby="faqHeading1" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer1">NasaEmoji is a versatile tool that allows you to convert text to emojis and encrypt messages using emojis. The site offers two main apps: <strong>Conversion</strong> and <strong>Encryption</strong>. The Conversion app lets you transform any text into emojis and back without encryption, while the Encryption app enables you to securely encrypt and decrypt messages using emojis as keys and output.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 2 -->
                <div class="card">
                    <div class="card-header" id="faqHeading2">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse2" aria-expanded="false" aria-controls="faqCollapse2">
                                <strong id="faqQuestion2">How do I use NasaEmoji?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse2" class="collapse" aria-labelledby="faqHeading2" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer2">NasaEmoji features two apps: <strong>Conversion</strong> and <strong>Encryption</strong>. By default, the site opens with the <strong>Conversion</strong> app. You can switch between apps using the <strong>Choose App</strong> dropdown in the navigation bar.

                            <br><br>
                            <strong>To Convert Text to Emojis:</strong>
                            <ul>
                                <li>Ensure you're on the <strong>Conversion</strong> app.</li>
                                <li>Enter your message in the input field.</li>
                                <li>Click the <strong>üîÑ Convert</strong> button.</li>
                                <li>Your converted message will appear in the output field.</li>
                            </ul>

                            <strong>To Encrypt a Message:</strong>
                            <ul>
                                <li>Switch to the <strong>Encryption</strong> app using the <strong>Choose App</strong> dropdown.</li>
                                <li>Enter your message in the input field.</li>
                                <li>Generate a key by clicking the <strong>üîÑ</strong> button next to the key input field, or enter your own key.</li>
                                <li>Click the <strong>üîÄ Encrypt / Decrypt</strong> button.</li>
                                <li>Your encrypted message will appear in the output field.</li>
                            </ul>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 3 -->
                <div class="card">
                    <div class="card-header" id="faqHeading3">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse3" aria-expanded="false" aria-controls="faqCollapse3">
                                <strong id="faqQuestion3">How do I convert text to emojis?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse3" class="collapse" aria-labelledby="faqHeading3" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer3">
                                To convert text to emojis:
                                <ul>
                                    <li>Ensure you're on the <strong>Conversion</strong> app (the default app).</li>
                                    <li>Enter your message in the input field.</li>
                                    <li>Click the <strong>üîÑ Convert</strong> button.</li>
                                    <li>The converted message will appear in the output field.</li>
                                    <li>You can copy the output using the <strong>Copy to clipboard</strong> button.</li>
                                </ul>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 4 -->
                <div class="card">
                    <div class="card-header" id="faqHeading4">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse4" aria-expanded="false" aria-controls="faqCollapse4">
                                <strong id="faqQuestion4">How do I encrypt a message?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse4" class="collapse" aria-labelledby="faqHeading4" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer4">
                                To encrypt a message:
                                <ul>
                                    <li>Switch to the <strong>Encryption</strong> app using the <strong>Choose App</strong> dropdown.</li>
                                    <li>Enter your message in the input field.</li>
                                    <li>Generate a key by clicking the <strong>üîÑ</strong> button next to the key input field, or enter your own key.</li>
                                    <li>Click the <strong>üîÄ Encrypt / Decrypt</strong> button.</li>
                                    <li>Your encrypted message will appear in the output field.</li>
                                </ul>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 5 -->
                <div class="card">
                    <div class="card-header" id="faqHeading5">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse5" aria-expanded="false" aria-controls="faqCollapse5">
                                <strong id="faqQuestion5">How do I decrypt a message?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse5" class="collapse" aria-labelledby="faqHeading5" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer5">
                                To decrypt a message:
                                <ul>
                                    <li>Switch to the <strong>Encryption</strong> app.</li>
                                    <li>Paste the encrypted emoji message into the input field.</li>
                                    <li>Enter the key used for encryption in the key input field.</li>
                                    <li>Click the <strong>üîÄ Encrypt / Decrypt</strong> button.</li>
                                    <li>Your decrypted message will appear in the output field.</li>
                                </ul>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 6 -->
                <div class="card">
                    <div class="card-header" id="faqHeading6">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse6" aria-expanded="false" aria-controls="faqCollapse6">
                                <strong id="faqQuestion6">How do I generate an emoji key?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse6" class="collapse" aria-labelledby="faqHeading6" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer6">
                                To generate an emoji key in the <strong>Encryption</strong> app:
                                <ul>
                                    <li>Click the <strong>üîÑ</strong> button next to the key input field.</li>
                                    <li>The generated key will appear in the key input field.</li>
                                    <li>You can copy the key using the <strong>Copy</strong> button.</li>
                                    <li>Save the key in one of the 5 available slots using the <strong>üíæ Save</strong> button for future use.</li>
                                </ul>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 9 -->
                <div class="card">
                    <div class="card-header" id="faqHeading9">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse9" aria-expanded="false" aria-controls="faqCollapse9">
                                <strong id="faqQuestion9">How do I add NasaEmoji to my home screen or desktop?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse9" class="collapse" aria-labelledby="faqHeading9" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer9">
                                <p>You can add NasaEmoji as a Progressive Web App (PWA) to your home screen or desktop for quick access.</p>
                                <strong>On iOS (Safari):</strong>
                                <ol>
                                    <li>Open NasaEmoji in Safari.</li>
                                    <li>Tap the <strong>Share</strong> icon (a square with an upward arrow).</li>
                                    <li>Scroll down and tap <strong>Add to Home Screen</strong>.</li>
                                    <li>Tap <strong>Add</strong> in the upper-right corner.</li>
                                </ol>
                                <strong>On Android (Chrome and other browsers):</strong>
                                <ol>
                                    <li>Open NasaEmoji in your browser.</li>
                                    <li>Tap the <strong>Menu</strong> icon (three dots) in the upper-right corner.</li>
                                    <li>Select <strong>Add to Home screen</strong> or <strong>Install App</strong>.</li>
                                    <li>Follow the on-screen instructions.</li>
                                </ol>
                                <strong>On macOS (Safari):</strong>
                                <ol>
                                    <li>Open NasaEmoji in Safari.</li>
                                    <li>Go to <strong>File</strong> > <strong>Add to Dock</strong>.</li>
                                </ol>
                                <strong>On Desktop (Chrome):</strong>
                                <ol>
                                    <li>Open NasaEmoji in Chrome.</li>
                                    <li>Click the <strong>Install</strong> icon in the address bar (a computer with a down arrow).</li>
                                    <li>Click <strong>Install</strong>.</li>
                                </ol>
                                <strong>On Desktop (Firefox and other browsers):</strong>
                                <p>Firefox does not support installing PWAs directly. You can bookmark the site or create a shortcut manually.</p>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 10 -->
                <div class="card">
                    <div class="card-header" id="faqHeading10">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse10" aria-expanded="false" aria-controls="faqCollapse10">
                                <strong id="faqQuestion10">Is my data secure?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse10" class="collapse" aria-labelledby="faqHeading10" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer10">Yes, all encryption and decryption happen locally on your device. No data is sent anywhere, ensuring your messages remain private.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 11 -->
                <div class="card">
                    <div class="card-header" id="faqHeading11">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse11" aria-expanded="false" aria-controls="faqCollapse11">
                                <strong id="faqQuestion11">Can I convert text to emojis without encryption?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse11" class="collapse" aria-labelledby="faqHeading11" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer11">Yes, NasaEmoji allows you to convert any text to emojis and back without encryption using the "Convert" feature.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 12 -->
                <div class="card">
                    <div class="card-header" id="faqHeading12">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse12" aria-expanded="false" aria-controls="faqCollapse12">
                                <strong id="faqQuestion12">What encryption algorithms does NasaEmoji use?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse12" class="collapse" aria-labelledby="faqHeading12" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer12">NasaEmoji uses a combination of AES-256, Blowfish, and XOR encryption algorithms to secure your messages.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 13 -->
                <div class="card">
                    <div class="card-header" id="faqHeading13">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse13" aria-expanded="false" aria-controls="faqCollapse13">
                                <strong id="faqQuestion13">Why are multiple encryption algorithms used?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse13" class="collapse" aria-labelledby="faqHeading13" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer13">Using multiple algorithms enhances security by adding layers of encryption, making it more difficult for unauthorized parties to decrypt the message.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 14 -->
                <div class="card">
                    <div class="card-header" id="faqHeading14">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse14" aria-expanded="false" aria-controls="faqCollapse14">
                                <strong id="faqQuestion14">What is key hashing and why is it used?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse14" class="collapse" aria-labelledby="faqHeading14" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer14">Key hashing transforms your key into a fixed-size hash using multiple algorithms, enhancing security by preventing direct access to the original key and making brute-force attacks more difficult.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 15 -->
                <div class="card">
                    <div class="card-header" id="faqHeading15">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse15" aria-expanded="false" aria-controls="faqCollapse15">
                                <strong id="faqQuestion15">How does key hashing prevent brute-force attacks?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse15" class="collapse" aria-labelledby="faqHeading15" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer15">By hashing the key multiple times with different algorithms and salts, it increases the computational effort required to guess the key, thus deterring brute-force attempts.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 16 -->
                <div class="card">
                    <div class="card-header" id="faqHeading16">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse16" aria-expanded="false" aria-controls="faqCollapse16">
                                <strong id="faqQuestion16">What is the CryptoJS library?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse16" class="collapse" aria-labelledby="faqHeading16" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer16">CryptoJS is a widely used JavaScript library that provides standard and secure cryptographic algorithms for encryption and hashing.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 17 -->
                <div class="card">
                    <div class="card-header" id="faqHeading17">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse17" aria-expanded="false" aria-controls="faqCollapse17">
                                <strong id="faqQuestion17">How secure is the CryptoJS library?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse17" class="collapse" aria-labelledby="faqHeading17" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer17">CryptoJS is considered secure as it implements well-known cryptographic algorithms correctly. It is used in many applications for secure data handling.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 18 -->
                <div class="card">
                    <div class="card-header" id="faqHeading18">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse18" aria-expanded="false" aria-controls="faqCollapse18">
                                <strong id="faqQuestion18">How does NasaEmoji handle key storage?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse18" class="collapse" aria-labelledby="faqHeading18" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer18">You can save keys locally in one of the 5 available slots using your browser's local storage for quick access.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 19 -->
                <div class="card">
                    <div class="card-header" id="faqHeading19">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse19" aria-expanded="false" aria-controls="faqCollapse19">
                                <strong id="faqQuestion19">Does NasaEmoji send any data over the internet?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse19" class="collapse" aria-labelledby="faqHeading19" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer19">No, all operations are performed locally on your device. NasaEmoji does not send any data over the internet.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 20 -->
                <div class="card">
                    <div class="card-header" id="faqHeading20">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse20" aria-expanded="false" aria-controls="faqCollapse20">
                                <strong id="faqQuestion20">Can I use NasaEmoji offline?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse20" class="collapse" aria-labelledby="faqHeading20" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer20">Yes, you can download NasaEmoji for local execution and use it offline without an internet connection.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 21 -->
                <div class="card">
                    <div class="card-header" id="faqHeading21">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse21" aria-expanded="false" aria-controls="faqCollapse21">
                                <strong id="faqQuestion21">Is the encryption standardized?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse21" class="collapse" aria-labelledby="faqHeading21" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer21">NasaEmoji uses standard encryption algorithms but combines them in a unique way. While secure, it is recommended for casual use rather than critical security applications.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 22 -->
                <div class="card">
                    <div class="card-header" id="faqHeading22">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse22" aria-expanded="false" aria-controls="faqCollapse22">
                                <strong id="faqQuestion22">Can I trust NasaEmoji for highly sensitive information?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse22" class="collapse" aria-labelledby="faqHeading22" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer22">While NasaEmoji employs strong encryption, it is primarily designed for personal and casual use. For highly sensitive information, consult security professionals.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 23 -->
                <div class="card">
                    <div class="card-header" id="faqHeading23">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse23" aria-expanded="false" aria-controls="faqCollapse23">
                                <strong id="faqQuestion23">Is NasaEmoji open-source?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse23" class="collapse" aria-labelledby="faqHeading23" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer23">Yes, NasaEmoji's source code is available on GitHub, allowing you to review and contribute to its development.</span>
                        </div>
                    </div>
                </div>
                <!-- FAQ Item 24 -->
                <div class="card">
                    <div class="card-header" id="faqHeading24">
                        <h5 class="mb-0">
                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse24" aria-expanded="false" aria-controls="faqCollapse24">
                                <strong id="faqQuestion24">How can I contribute to NasaEmoji?</strong>
                            </button>
                        </h5>
                    </div>
                    <div id="faqCollapse24" class="collapse" aria-labelledby="faqHeading24" data-parent="#faqAccordion">
                        <div class="card-body">
                            <span id="faqAnswer24">You can contribute by visiting the GitHub repository, reporting issues, suggesting improvements, or submitting pull requests.</span>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <p class="text-center">
                <b id="footerHighlight">[Footer Highlight]</b>
            </p>
            <div class="form-group text-center">
            </div>
            <hr>
            <div class="text-center">
                <a href="https://github.com/mqxym/EmojiCrypt" id="footerSource">Sourcecode (Github)</a>
                <br>
                Copy Url: https://nasaemoji.com
                <br>
            </div>
        </div>
    </div>
    <!-- External Scripts -->
    <script src="js/base-64.js" defer></script>
    <script src="js/lib.js" defer></script>
    <script src="js/emo.js" defer></script>
    <script src="js/lang.js" defer></script>

    <script>
        // =======================================
        // Language Handling
        // =======================================
    
        /**
         * Available languages with their codes and names.
         */
        const languages = [
            { code: 'en', name: 'English üá∫üá∏' },
            { code: 'de', name: 'German üá©üá™' },
            { code: 'zh', name: 'Chinese üá®üá≥' },
            { code: 'ru', name: 'Russian üá∑üá∫' },
            { code: 'es', name: 'Spanish üá™üá∏' },
            { code: 'fr', name: 'French üá´üá∑' },
        ];
    
        /**
         * Get the language code from the URL parameter 'lang'.
         * @returns {string|null} The language code from URL or null if not present.
         */
        function getLanguageCodeFromURL() {
            const params = new URLSearchParams(window.location.search);
            return params.has('lang') ? params.get('lang').toLowerCase() : null;
        }
    
        /**
         * Map language code to index in the languages array.
         * @param {string} code - Language code.
         * @returns {number} Index of language in languages array, or -1 if not found.
         */
        function getLanguageIndexFromCode(code) {
            return languages.findIndex((lang) => lang.code === code);
        }
    
        /**
         * Initialize language settings, determine the current language code and index.
         * @returns {Object} An object containing languageCode and languageIndex.
         */
        function initializeLanguage() {
            let languageCode = getLanguageCodeFromURL() || localStorage.getItem('lang') || 'en';
            let languageIndex = getLanguageIndexFromCode(languageCode);
    
            if (languageIndex === -1) {
                languageCode = 'en';
                languageIndex = 0;
            }
    
            localStorage.setItem('lang', languageCode);
            return { languageCode, languageIndex };
        }
    
        let { languageCode, languageIndex } = initializeLanguage();
    
        // =======================================
        // UI Update Functions
        // =======================================
    
        // Elements to update text content
        const uiTextElements = [
            { selector: '#navbarBrand', key: 'navbarBrand' },
            { selector: '#chooseAppMenu', key: 'chooseAppMenu' },
            { selector: '#encryptMenu', key: 'encryptMenu' },
            { selector: '#convertMenu', key: 'convertMenu' },
            { selector: '#aboutMenu', key: 'aboutMenu' },
            { selector: '#clearEncryptInputButton', key: 'clearEncryptInputButton' },
            { selector: '#encryptDecryptButton', key: 'encryptDecryptButton' },
            { selector: '#copyKeyButton', key: 'copyKeyButton' },
            { selector: '#keyInstructions', key: 'keyInstructions' },
            { selector: '#loadKeyButton', key: 'loadKeyButton' },
            { selector: '#saveKeyButton', key: 'saveKeyButton' },
            { selector: '#encryptOutputTextarea', key: 'encryptOutputTextarea' },
            { selector: '#copyEncryptOutputButton', key: 'copyEncryptOutputButton' },
            { selector: '#clearConvertInputButton', key: 'clearConvertInputButton' },
            { selector: '#convertButton', key: 'convertButton' },
            { selector: '#convertOutputTextarea', key: 'convertOutputTextarea' },
            { selector: '#copyConvertOutputButton', key: 'copyConvertOutputButton' },
            { selector: '#explanation', key: 'explanation' },
            { selector: '#footerHighlight', key: 'footerHighlight' },
            { selector: '#footerSource', key: 'footerSource' },
        ];
    
        // Elements to update placeholder attributes
        const uiPlaceholderElements = [
            { selector: '#encryptMessageInput', key: 'encryptMessageInput' },
            { selector: '#keyInput', key: 'keyInput' },
            { selector: '#convertMessageInput', key: 'convertMessageInput' },
        ];
    
        /**
         * Update FAQ items with translations.
         * @param {number} languageIndex - Index of the current language.
         */
        function updateFAQItems(languageIndex) {
            const faqItemCount = 24;
            for (let i = 1; i <= faqItemCount; i++) {
                $(`#faqQuestion${i}`).html(getTranslation(`faqQuestion${i}`, languageIndex));
                $(`#faqAnswer${i}`).html(getTranslation(`faqAnswer${i}`, languageIndex));
            }
        }
    
        /**
         * Update the UI elements with the translations based on the selected language.
         */
        function updateUILanguage() {
            // Update text content
            uiTextElements.forEach((element) => {
                $(element.selector).html(getTranslation(element.key, languageIndex));
            });
    
            // Update placeholders
            uiPlaceholderElements.forEach((element) => {
                $(element.selector).attr('placeholder', getTranslation(element.key, languageIndex));
            });
    
            // Update Dark Mode Menu Text
            const darkModeKey = isDarkModeEnabled() ? 'disableDarkMode' : 'enableDarkMode';
            $('#darkModeMenu').html(getTranslation(darkModeKey, languageIndex));
    
            // Update FAQ items
            updateFAQItems(languageIndex);
    
            // Update navigation links and language menu links
            updateNavigationLinks();
            updateLanguageMenuLinks();
        }
    
        // =======================================
        // Navigation Handling
        // =======================================
    
        const sections = ['encrypt', 'convert', 'about'];
    
        /**
         * Get the current section from URL parameters.
         * @returns {string} Current section ('encrypt', 'convert', 'about').
         */
        function getCurrentSection() {
            const params = new URLSearchParams(window.location.search);
            for (const section of sections) {
                if (params.has(section)) return section;
            }
            return 'convert'; // Default section
        }
    
        /**
         * Update the navigation links to include the 'lang' parameter.
         */
        function updateNavigationLinks() {
            const currentParams = new URLSearchParams(window.location.search);
            sections.forEach((section) => currentParams.delete(section));
    
            // Set or remove the 'lang' parameter
            if (languageCode !== 'en') {
                currentParams.set('lang', languageCode);
            } else {
                currentParams.delete('lang');
            }
    
            const baseParams = currentParams.toString();
            sections.forEach((section) => {
                $(`#${section}Menu`).attr('href', `?${section}${baseParams ? '&' + baseParams : ''}`);
            });
        }
    
        /**
         * Update the language menu links to point to the current active site.
         */
        function updateLanguageMenuLinks() {
            const currentSection = getCurrentSection();
            $('#languageMenuItems a.dropdown-item').each(function () {
                const langCode = $(this).attr('data-lang-code');
                let href = `?${currentSection}`;
                if (langCode !== 'en') {
                    href += `&lang=${langCode}`;
                }
                $(this).attr('href', href);
            });
        }
    
        // =======================================
        // Dark Mode Handling
        // =======================================
    
        /**
         * Check if dark mode is enabled.
         * @returns {boolean} True if dark mode is enabled.
         */
        function isDarkModeEnabled() {
            return localStorage.getItem('darkMode') === 'true';
        }
    
        const darkModeClassToggles = [
            { selector: 'body', classes: 'bg-dark text-light dark-mode' },
            { selector: '.navbar', removeClasses: 'navbar-light bg-light', addClasses: 'navbar-dark bg-dark' },
            { selector: '.main-content', classes: 'bg-dark text-light' },
            { selector: '.dropdown-menu', classes: 'bg-dark' },
            { selector: '.dropdown-item', classes: 'text-light' },
            { selector: '.card', classes: 'bg-dark text-light' },
            { selector: '.card-header', classes: 'bg-dark' },
            { selector: '.card-body', classes: 'bg-dark text-light' },
            { selector: '.faq-button', classes: 'text-light' },
            { selector: '.collapse', classes: 'bg-dark text-light' },
            { selector: '.input-group-text', classes: 'bg-dark text-light' },
            { selector: '.form-control', classes: 'bg-secondary text-light' },
        ];
    
        /**
         * Enable dark mode by adding appropriate classes.
         */
        function enableDarkMode() {
            darkModeClassToggles.forEach((item) => {
                if (item.removeClasses) {
                    $(item.selector).removeClass(item.removeClasses);
                }
                if (item.addClasses) {
                    $(item.selector).addClass(item.addClasses);
                }
                if (item.classes) {
                    $(item.selector).addClass(item.classes);
                }
            });
            // Adjust hr border color
            $('hr').css('border-top', '1px solid #666');
    
            localStorage.setItem('darkMode', 'true');
            $('#darkModeMenu').html(getTranslation('disableDarkMode', languageIndex));
        }
    
        /**
         * Disable dark mode by removing appropriate classes.
         */
        function disableDarkMode() {
            darkModeClassToggles.forEach((item) => {
                if (item.classes) {
                    $(item.selector).removeClass(item.classes);
                }
                if (item.removeClasses) {
                    $(item.selector).addClass(item.removeClasses);
                }
                if (item.addClasses) {
                    $(item.selector).removeClass(item.addClasses);
                }
            });
            // Reset hr border color
            $('hr').css('border-top', '');
    
            localStorage.setItem('darkMode', 'false');
            $('#darkModeMenu').html(getTranslation('enableDarkMode', languageIndex));
        }
    
        // =======================================
        // Section Transition Handling
        // =======================================
    
        const menuOrder = ['encryptSection', 'convertSection', 'aboutSection'];
        let isTransitioning = false;
        let currentMenu = getSectionFromURL();
    
        /**
         * Parses the URL parameters to determine which section to display.
         * @returns {string} The ID of the section to display.
         */
        function getSectionFromURL() {
            const params = new URLSearchParams(window.location.search);
            if (params.has('about')) return 'aboutSection';
            if (params.has('encrypt')) return 'encryptSection';
            if (params.has('convert')) return 'convertSection';
            return 'convertSection'; // Default section
        }
    
        /**
         * Set initial positions of sections based on the current menu.
         * Positions other sections off-screen to the left or right.
         */
        function setInitialSectionPositions() {
            const currentIndex = menuOrder.indexOf(currentMenu);
            menuOrder.forEach((section, index) => {
                const offset = (index - currentIndex) * 100; // Offset in percent
                $(`#${section}`).css('left', `${offset}%`);
            });
        }
    
        /**
         * Update the URL parameter to reflect the current section.
         */
        function updateURLParameter() {
            const paramName = currentMenu.replace('Section', '');
            let newURL = `${window.location.protocol}//${window.location.host}${window.location.pathname}?${paramName}`;
    
            if (languageCode !== 'en') {
                newURL += `&lang=${languageCode}`;
            }
    
            window.history.pushState({ path: newURL }, '', newURL);
        }
    
        /**
         * Check if two sections are adjacent in the menu order.
         * @param {string} from - The ID of the current section.
         * @param {string} to - The ID of the target section.
         * @returns {boolean} True if the sections are adjacent.
         */
        function areAdjacent(from, to) {
            const fromIndex = menuOrder.indexOf(from);
            const toIndex = menuOrder.indexOf(to);
            return Math.abs(fromIndex - toIndex) === 1;
        }
    
        /**
         * Animates the transition between two sections by adjusting their positions.
         * @param {string} fromDiv - The ID of the current section.
         * @param {string} toDiv - The ID of the target section.
         * @param {function} callback - Callback function after animation completes.
         */
        function animateTransition(fromDiv, toDiv, callback) {
            const fromIndex = menuOrder.indexOf(fromDiv);
            const toIndex = menuOrder.indexOf(toDiv);
            const direction = toIndex > fromIndex ? 'left' : 'right';
    
            const fromAnimation = {};
            const toAnimation = {};
    
            if (direction === 'left') {
                fromAnimation.left = '-100%';
                toAnimation.left = '0%';
                $(`#${toDiv}`).css('left', '100%');
            } else {
                fromAnimation.left = '100%';
                toAnimation.left = '0%';
                $(`#${toDiv}`).css('left', '-100%');
            }
    
            $(`#${fromDiv}`).animate(fromAnimation, 500);
            $(`#${toDiv}`).animate(toAnimation, 500, () => {
                if (typeof callback === 'function') callback();
            });
        }
    
        /**
         * Transition to the target section with an animation.
         * @param {string} targetDiv - The ID of the target section.
         * @param {boolean} [pushState=true] - Whether to update the browser history.
         */
        function transitionToSection(targetDiv, pushState = true) {
            if (isTransitioning || targetDiv === currentMenu) return;
    
            isTransitioning = true;
            const needsIntermediate = !areAdjacent(currentMenu, targetDiv);
    
            if (needsIntermediate) {
                const intermediate = 'convertSection';
                animateTransition(currentMenu, intermediate, () => {
                    currentMenu = intermediate;
                    animateTransition(intermediate, targetDiv, () => {
                        currentMenu = targetDiv;
                        isTransitioning = false;
    
                        if (pushState) updateURLParameter();
                        updateLanguageMenuLinks();
                        updateNavigationLinks();
                        updateMetadata();
                    });
                });
            } else {
                animateTransition(currentMenu, targetDiv, () => {
                    currentMenu = targetDiv;
                    isTransitioning = false;
    
                    if (pushState) updateURLParameter();
                    updateLanguageMenuLinks();
                    updateNavigationLinks();
                    updateMetadata();
                });
            }
    
            // Collapse the navbar if in mobile mode
            if ($('.navbar-toggler').is(':visible')) {
                $('.navbar-collapse').collapse('hide');
            }
        }
    
        /**
         * Parses a URL string to determine which section to display.
         * @param {string} url - The URL string to parse.
         * @returns {string} The ID of the section to display.
         */
        function getSectionFromURLString(url) {
            const params = new URLSearchParams(url.substring(1)); // Remove '?' from the start
            if (params.has('about')) return 'aboutSection';
            if (params.has('encrypt')) return 'encryptSection';
            if (params.has('convert')) return 'convertSection';
            return 'convertSection'; // Default section
        }
    
        /**
         * Updates the page's metadata based on the current section.
         */
        function updateMetadata() {
            let title, description;
    
            switch (currentMenu) {
                case 'encryptSection':
                    title = 'Encrypt Text with Emojis - Emoji Encryption Tool';
                    description = 'Securely encrypt and decrypt messages using emojis.';
                    break;
                case 'convertSection':
                    title = 'Convert Text to Emojis - Emoji Conversion Tool';
                    description = 'Easily convert your text into emojis and back.';
                    break;
                case 'aboutSection':
                    title = 'About Emoji Encryption Tool';
                    description = 'Learn more about our emoji encryption and conversion tool.';
                    break;
            }
    
            document.title = title;
            $('meta[name="description"]').attr('content', description);
        }
    
        // =======================================
        // Event Handlers and Initialization
        // =======================================
    
        $(document).ready(function () {
            // Initialize language and UI
            updateUILanguage();
            currentMenu = getSectionFromURL();
            setInitialSectionPositions();
            updateMetadata();
    
            // Handle back/forward button navigation
            window.onpopstate = function () {
                const targetSection = getSectionFromURL();
                transitionToSection(targetSection, false);
    
                // Update language if changed in URL
                const langCode = getLanguageCodeFromURL();
                if (langCode !== languageCode) {
                    languageCode = langCode || 'en';
                    languageIndex = getLanguageIndexFromCode(languageCode);
                    localStorage.setItem('lang', languageCode);
                    updateUILanguage();
                }
            };
    
            // Dark Mode Toggle
            if (isDarkModeEnabled()) {
                enableDarkMode();
            } else {
                disableDarkMode();
            }
    
            $('#darkModeMenu').click(function () {
                if (isDarkModeEnabled()) {
                    disableDarkMode();
                } else {
                    enableDarkMode();
                }
            });
    
            // Encrypt/Decrypt Button Click Handler
            $('#encryptDecryptButton').click(async function () {
                const $thisButton = $(this);
                const inputText = $('#encryptMessageInput').val();
    
                // Show error if input text is empty
                if (!inputText) {
                    $thisButton.html(getTranslation('error', languageIndex));
                    await new Promise((r) => setTimeout(r, 1000));
                    $thisButton.html(getTranslation('encryptDecryptButton', languageIndex));
                    return;
                }
    
                const inputType = checkInputString(inputText);
    
                if (!inputType) {
                    // Encryption
                    $thisButton.html(getTranslation('btnEncodeWorking', languageIndex));
                    await new Promise((r) => setTimeout(r, 15));
    
                    const message = inputText;
                    const key = getPassword($('#keyInput').val());
    
                    const emojiString = encrypt(message, key);
    
                    if (!emojiString) {
                        $thisButton.html(getTranslation('btnEncodeFailed', languageIndex));
                    } else {
                        $('#encryptOutputTextarea').val(emojiString);
                        $thisButton.html(getTranslation('btnEncodeSuccess', languageIndex));
                    }
                } else {
                    // Decryption
                    $thisButton.html(getTranslation('btnDecodeWorking', languageIndex));
                    await new Promise((r) => setTimeout(r, 15));
    
                    const message = inputText;
                    const key = getPassword($('#keyInput').val());
    
                    const decryptedText = decrypt(message, key);
    
                    if (!decryptedText) {
                        $thisButton.html(getTranslation('btnDecodeFailed', languageIndex));
                        $('#encryptOutputTextarea').val('');
                    } else {
                        $('#encryptOutputTextarea').val(decryptedText);
                        $thisButton.html(getTranslation('btnDecodeSuccess', languageIndex));
                    }
                }
    
                await new Promise((r) => setTimeout(r, 5000));
                $thisButton.html(getTranslation('encryptDecryptButton', languageIndex));
            });
    
            // Convert Button Click Handler
            $('#convertButton').click(async function () {
                const $thisButton = $(this);
                const inputText = $('#convertMessageInput').val();
    
                // Show error if input text is empty
                if (!inputText) {
                    $thisButton.html(getTranslation('error', languageIndex));
                    await new Promise((r) => setTimeout(r, 1000));
                    $thisButton.html(getTranslation('convertButton', languageIndex));
                    return;
                }
    
                const inputType = checkInputString(inputText);
    
                if (!inputType) {
                    // Encoding
                    $thisButton.html(getTranslation('btnEncodeWorkingConvert', languageIndex));
                    await new Promise((r) => setTimeout(r, 15));
    
                    const encodedText = encode(inputText);
    
                    if (!encodedText) {
                        $thisButton.html(getTranslation('btnEncodeFailedConvert', languageIndex));
                    } else {
                        $('#convertOutputTextarea').val(encodedText);
                        $thisButton.html(getTranslation('btnEncodeSuccessConvert', languageIndex));
                    }
                } else {
                    // Decoding
                    $thisButton.html(getTranslation('btnDecodeWorkingConvert', languageIndex));
                    await new Promise((r) => setTimeout(r, 15));
    
                    const decodedText = decode(inputText);
    
                    if (!decodedText) {
                        $thisButton.html(getTranslation('btnDecodeFailedConvert', languageIndex));
                        $('#convertOutputTextarea').val('');
                    } else {
                        $('#convertOutputTextarea').val(decodedText);
                        $thisButton.html(getTranslation('btnDecodeSuccessConvert', languageIndex));
                    }
                }
    
                await new Promise((r) => setTimeout(r, 5000));
                $thisButton.html(getTranslation('convertButton', languageIndex));
            });
    
            // Clear input text
            $('#clearEncryptInputButton').click(() => $('#encryptMessageInput').val(''));
            $('#clearConvertInputButton').click(() => $('#convertMessageInput').val(''));
    
            // Generate random key
            $('#generateKeyButton').click(() => $('#keyInput').val(generateRandomKey()));
    
            // Copy key to clipboard
            $('#copyKeyButton').click(() => {
                const copyText = document.getElementById('keyInput');
                copyText.select();
                document.execCommand('copy');
            });
    
            // Copy output message to clipboard
            $('#copyEncryptOutputButton').click(() => {
                const copyText = document.getElementById('encryptOutputTextarea');
                copyText.select();
                document.execCommand('copy');
            });
    
            $('#copyConvertOutputButton').click(() => {
                const copyText = document.getElementById('convertOutputTextarea');
                copyText.select();
                document.execCommand('copy');
            });
    
            // Load key from local storage
            $('#loadKeyButton').click(async function () {
                const $thisButton = $(this);
                const slot = $('#keySlotSelect').val();
                const storedKey = localStorage.getItem('key' + slot);
    
                $thisButton.html(getTranslation('loadKey', languageIndex)).removeClass('bg-dark').addClass('bg-success');
    
                if (storedKey) {
                    $('#keyInput').val(storedKey);
                } else {
                    $thisButton.removeClass('bg-success').addClass('bg-danger').html(getTranslation('error', languageIndex));
                }
    
                await new Promise((r) => setTimeout(r, 1000));
                $thisButton.removeClass('bg-success bg-danger').addClass('bg-dark').html(getTranslation('loadKeyButton', languageIndex));
            });
    
            // Save key to local storage
            $('#saveKeyButton').click(async function () {
                const $thisButton = $(this);
                const slot = $('#keySlotSelect').val();
                const key = $('#keyInput').val();
    
                if (key) {
                    localStorage.setItem('key' + slot, key);
                    $thisButton.html(getTranslation('saved', languageIndex)).removeClass('bg-dark').addClass('bg-success');
                } else {
                    $thisButton.removeClass('bg-dark').addClass('bg-danger').html(getTranslation('error', languageIndex));
                }
    
                await new Promise((r) => setTimeout(r, 1000));
                $thisButton.removeClass('bg-success bg-danger').addClass('bg-dark').html(getTranslation('saveKeyButton', languageIndex));
            });
    
            // Attach click handlers to menu links
            $('a.nav-link, a.dropdown-item').click(function (e) {
                const href = $(this).attr('href');
    
                // Only handle internal links with query parameters
                if (href && href.startsWith('?')) {
                    e.preventDefault();
                    const targetSection = getSectionFromURLString(href);
                    transitionToSection(targetSection);
                }
            });
    
            // Handle clicks on language menu links
            $('#languageMenuItems a.dropdown-item').click(function (e) {
                e.preventDefault();
                const href = $(this).attr('href');
                const newLangCode = $(this).attr('data-lang-code');
    
                // Update the language code in local storage
                localStorage.setItem('lang', newLangCode);
    
                // Update the languageIndex
                languageCode = newLangCode;
                languageIndex = getLanguageIndexFromCode(languageCode);
    
                // Update the UI language
                updateUILanguage();
    
                // Update the URL
                history.pushState(null, '', href);
            });
        });
    </script>    
</body>

</html>
