<!doctype html>
<html lang="en">
<head>
    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon and Manifest -->
    <link rel="icon" type="image/x-icon" href="icon/favicon.ico">
    <link rel="apple-touch-icon" href="/icon/apple-touch-icon.png">
    <link rel="manifest" href="manifest.webmanifest">
    <!-- SEO Meta Tags -->
    <meta name="description" content="Convert text to emojis or encrypt text with emojis and turn them to even more emojis." />
    <meta name="keywords" content="Encrypt,Decrypt,AES,AES256,Encryption,Online,Offline,Download,Sourcecode,Emoji,Emo" />
    <meta name="author" content="Marques Xiaomi" />
    <meta name="copyright" content="Maxim Schulz" />
    <meta name="page-topic" content="Computer" />
    <meta http-equiv="Reply-to" content="maxim@omg.lol" />
    <meta name="theme-color" content="#1d1f29">
    <meta name="expires" content="" />
    <meta name="revisit-after" content="2 days" />
    <!-- CSS and JS Links -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/custom.css">
    
    <title>üåò - to the moon! Text to Emoji and Emoji-Encryption</title>
    <script src="js/lib/jquery.js"></script>
    <script src="js/lib/bootstrap.min.js"></script>
    <script src="js/lib/bootstrap.bundle.js"></script>
    
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" id="navbarBrand" href="#">Text üìÑ üîÑ üåà Emoji</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Navbar Menu -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <!-- Choose App Dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="chooseAppMenu" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Choose App
                    </a>
                    <div class="dropdown-menu" aria-labelledby="appMenu">
                        <a class="dropdown-item" id="convertMenu" href="?convert">üîÑ Convert</a>
                        <a class="dropdown-item" id="encryptMenu" href="?encrypt">üîê Encrypt</a>
                    </div>
                </li>
                <!-- About Menu Item -->
                <li class="nav-item">
                    <a class="nav-link" id="aboutMenu" href="?about">About</a>
                </li>
                <!-- Dark Mode Toggle -->
                <li class="nav-item">
                    <a class="nav-link" id="darkModeMenu">Enable Dark Mode</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="languageMenu" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Language
                    </a>
                    <div class="dropdown-menu" aria-labelledby="languageMenu" id="languageMenuItems">
                        <!-- Language links with full site links -->
                        <a class="dropdown-item" href="?convert" data-lang-code="en">English üá∫üá∏</a>
                        <a class="dropdown-item" href="?convert&lang=de" data-lang-code="de">German üá©üá™</a>
                        <a class="dropdown-item" href="?convert&lang=zh" data-lang-code="zh">Chinese üá®üá≥</a>
                        <a class="dropdown-item" href="?convert&lang=ru" data-lang-code="ru">Russian üá∑üá∫</a>
                        <a class="dropdown-item" href="?convert&lang=es" data-lang-code="es">Spanish üá™üá∏</a>
                        <a class="dropdown-item" href="?convert&lang=fr" data-lang-code="fr">French üá´üá∑</a>
                        <a class="dropdown-item" href="?convert&lang=ar" data-lang-code="ar">Arabic üá∏üá¶</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <div class="wrapper">
        <!-- Main Content -->
        <div class="main-container">
            <!-- Crypto API Error Header -->
            <div class="p-2 m-3 bg-danger border rounded rounded-sm d-none" id="errorHeader">
                <span class="text-light">
                    Your browser does not support this application. Please update your browser or system.
                </span>
            </div>
            <!-- Javascript Support Error Header -->
            <noscript>
                <div class="p-2 m-3 bg-danger border rounded rounded-sm">
                    <span class="text-light">
                        Your browser does not support this application. Please enable JavaScript in your browser settings.
                    </span>
                </div>
            </noscript>
            <!-- Encryption/Decryption Section -->
            <div class="main-content p-3 encrypt-section container-fluid" id="encryptSection">
                <div class="row">
                    <div class="col-lg-6 order-md-1 order-1 w-100 mb-2">
                        <form class="form">
                            <!-- Message Input -->
                            <div class="input-group mb-3 gradient-blur">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">‚úâÔ∏è</span>
                                </div>
                                <textarea class="form-control" placeholder="Message" aria-label="Emoji" id="encryptMessageInput" rows="5"></textarea>
                                <div class="input-group-append">
                                    <button id="clearEncryptInputButton" type="button" class="btn btn-block bg-light">Delete <br> Message</button>
                                </div>
                            </div>
                            <hr>
                            <!-- Key Input -->
                            <div class="input-group gradient-blur mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="keyIcon">üîë</span>
                                </div>
                                <input type="text" placeholder="Secure password" class="form-control" id="keyInput" aria-describedby="keyIcon">
                                <div class="input-group-append">
                                    <button id="generateKeyButton" type="button" class="btn bg-light btn-block">üîÑ</button>
                                </div>
                                <div class="input-group-append">
                                    <button id="copyKeyButton" type="button" class="btn bg-light btn-block">Copy</button>
                                </div>
                            </div>
                            <!-- Key Storage Instructions -->
                            <div id="keyInstructions" class="mb-2">
                                Load or save keys
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="form-group">
                                        <select class="form-control" id="keySlotSelect">
                                            <option value="1">Slot 1Ô∏è‚É£</option>
                                            <option value="2">Slot 2Ô∏è‚É£</option>
                                            <option value="3">Slot 3Ô∏è‚É£</option>
                                            <option value="4">Slot 4Ô∏è‚É£</option>
                                            <option value="5">Slot 5Ô∏è‚É£</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col">
                                    <button id="loadKeyButton" type="button" class="btn bg-light btn-block mb-2">üì≤ Load</button>
                                    <button id="saveKeyButton" type="button" class="btn bg-light btn-block mb-2">üíæ Save</button>
                                </div>
                            </div>
                            <hr>
                            <!-- Encrypt/Decrypt Button -->
                            <button id="encryptDecryptButton" type="button" class="btn bg-light btn-block mb-4">üîÄ Encrypt / Decrypt</button>
                        </form>
                        <!-- Output Message -->
                        <div class="input-group gradient-blur mb-3">
                            <textarea class="form-control" aria-label="Emoji" id="encryptOutputTextarea" rows="10" readonly>Decrypted/Encrypted message</textarea>
                            <div class="input-group-append">
                                <button id="copyEncryptOutputButton" type="button" class="btn btn-block bg-light">Copy <br>to clipboard</button>
                            </div>
                        </div>
                    </div>
                    <div id="informationEncryption" class="col-md-6 order-md-2 order-2 w-100">
                        <h4 class="m-2">Information <a class="hide-information">(<u>hide</u>)</a></h4>
                        <div class="accordion" id="faqEncryptionAccordion">
                            <!-- FAQ Item 1 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqEncryptionHeading1">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button" type="button" data-toggle="collapse" data-target="#faqEncryptionCollapse1" aria-expanded="true" aria-controls="faqEncryptionCollapse1">
                                            <strong id="faqEncryptionQuestion1">What is NasaEmoji?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqEncryptionCollapse1" class="collapse" aria-labelledby="faqEncryptionHeading1" data-parent="#faqEncryptionAccordion">
                                    <div class="card-body">
                                        <span id="faqEncryptionAnswer1">NasaEmoji is a versatile tool that allows you to convert text to emojis and encrypt messages using emojis. The site offers two main apps: <strong>Conversion</strong> and <strong>Encryption</strong>. The Conversion app lets you transform any text into emojis and back without encryption, while the Encryption app enables you to securely encrypt and decrypt messages using emojis as keys and output.</span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 4 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqEncryptionHeading4">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqEncryptionCollapse4" aria-expanded="false" aria-controls="faqEncryptionCollapse4">
                                            <strong id="faqEncryptionQuestion4">How do I encrypt a message?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqEncryptionCollapse4" class="collapse show" aria-labelledby="faqEncryptionHeading4" data-parent="#faqEncryptionAccordion">
                                    <div class="card-body">
                                        <span id="faqEncryptionAnswer4">
                                            To encrypt a message:
                                            <ul>
                                                <li>Switch to the <strong>Encryption</strong> app using the <strong>Choose App</strong> dropdown.</li>
                                                <li>Enter your message in the input field.</li>
                                                <li>Generate a key by clicking the <strong>üîÑ</strong> button next to the key input field, or enter your own key.</li>
                                                <li>Click the <strong>üîÄ Encrypt / Decrypt</strong> button.</li>
                                                <li>Your encrypted message will appear in the output field.</li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 5 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqEncryptionHeading5">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqEncryptionCollapse5" aria-expanded="false" aria-controls="faqEncryptionCollapse5">
                                            <strong id="faqEncryptionQuestion5">How do I decrypt a message?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqEncryptionCollapse5" class="collapse" aria-labelledby="faqEncryptionHeading5" data-parent="#faqEncryptionAccordion">
                                    <div class="card-body">
                                        <span id="faqEncryptionAnswer5">
                                            To decrypt a message:
                                            <ul>
                                                <li>Switch to the <strong>Encryption</strong> app.</li>
                                                <li>Paste the encrypted emoji message into the input field.</li>
                                                <li>Enter the key used for encryption in the key input field.</li>
                                                <li>Click the <strong>üîÄ Encrypt / Decrypt</strong> button.</li>
                                                <li>Your decrypted message will appear in the output field.</li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 6 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqEncryptionHeading6">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqEncryptionCollapse6" aria-expanded="false" aria-controls="faqEncryptionCollapse6">
                                            <strong id="faqEncryptionQuestion6">How do I generate an emoji key?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqEncryptionCollapse6" class="collapse" aria-labelledby="faqEncryptionHeading6" data-parent="#faqEncryptionAccordion">
                                    <div class="card-body">
                                        <span id="faqEncryptionAnswer6">
                                            To generate an emoji key in the <strong>Encryption</strong> app:
                                            <ul>
                                                <li>Click the <strong>üîÑ</strong> button next to the key input field.</li>
                                                <li>The generated key will appear in the key input field.</li>
                                                <li>You can copy the key using the <strong>Copy</strong> button.</li>
                                                <li>Save the key in one of the 5 available slots using the <strong>üíæ Save</strong> button for future use.</li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 12 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqEncryptionHeading12">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqEncryptionCollapse12" aria-expanded="false" aria-controls="faqEncryptionCollapse12">
                                            <strong id="faqEncryptionQuestion12">What encryption algorithms does NasaEmoji use?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqEncryptionCollapse12" class="collapse" aria-labelledby="faqEncryptionHeading12" data-parent="#faqEncryptionAccordion">
                                    <div class="card-body">
                                        <span id="faqEncryptionAnswer12">NasaEmoji uses a combination of AES-CTR, AES-GCM, and XOR encryption algorithms to secure your messages.</span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 19 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqEncryptionHeading19">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqEncryptionCollapse19" aria-expanded="false" aria-controls="faqEncryptionCollapse19">
                                            <strong id="faqEncryptionQuestion19">Does NasaEmoji send any data over the internet?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqEncryptionCollapse19" class="collapse" aria-labelledby="faqEncryptionHeading19" data-parent="#faqEncryptionAccordion">
                                    <div class="card-body">
                                        <span id="faqEncryptionAnswer19">No, all operations are performed locally on your device. NasaEmoji does not send any data over the internet.</span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 22 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqEncryptionHeading22">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqEncryptionCollapse22" aria-expanded="false" aria-controls="faqEncryptionCollapse22">
                                            <strong id="faqEncryptionQuestion22">Can I trust NasaEmoji for highly sensitive information?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqEncryptionCollapse22" class="collapse" aria-labelledby="faqEncryptionHeading22" data-parent="#faqEncryptionAccordion">
                                    <div class="card-body">
                                        <span id="faqEncryptionAnswer22">While NasaEmoji employs strong encryption, it is primarily designed for personal and casual use. For highly sensitive information, consult security professionals.</span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 9 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqEncryptionHeading9">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqEncryptionCollapse9" aria-expanded="false" aria-controls="faqEncryptionCollapse9">
                                            <strong id="faqEncryptionQuestion9">How do I add NasaEmoji to my home screen or desktop?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqEncryptionCollapse9" class="collapse" aria-labelledby="faqEncryptionHeading9" data-parent="#faqEncryptionAccordion">
                                    <div class="card-body">
                                        <span id="faqEncryptionAnswer9">
                                            <p>You can add NasaEmoji as a Progressive Web App (PWA) to your home screen or desktop for quick access.</p>
                                            <strong>On iOS (Safari):</strong>
                                            <ol>
                                                <li>Open NasaEmoji in Safari.</li>
                                                <li>Tap the <strong>Share</strong> icon (a square with an upward arrow).</li>
                                                <li>Scroll down and tap <strong>Add to Home Screen</strong>.</li>
                                                <li>Tap <strong>Add</strong> in the upper-right corner.</li>
                                            </ol>
                                            <strong>On Android (Chrome and other browsers):</strong>
                                            <ol>
                                                <li>Open NasaEmoji in your browser.</li>
                                                <li>Tap the <strong>Menu</strong> icon (three dots) in the upper-right corner.</li>
                                                <li>Select <strong>Add to Home screen</strong> or <strong>Install App</strong>.</li>
                                                <li>Follow the on-screen instructions.</li>
                                            </ol>
                                            <strong>On macOS (Safari):</strong>
                                            <ol>
                                                <li>Open NasaEmoji in Safari.</li>
                                                <li>Go to <strong>File</strong> > <strong>Add to Dock</strong>.</li>
                                            </ol>
                                            <strong>On Desktop (Chrome):</strong>
                                            <ol>
                                                <li>Open NasaEmoji in Chrome.</li>
                                                <li>Click the <strong>Install</strong> icon in the address bar (a computer with a down arrow).</li>
                                                <li>Click <strong>Install</strong>.</li>
                                            </ol>
                                            <strong>On Desktop (Firefox and other browsers):</strong>
                                            <p>Firefox does not support installing PWAs directly. You can bookmark the site or create a shortcut manually.</p>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="bannerEncryption" class="col-lg-6 d-none order-md-2 order-2 w-100 justify-content-center align-items-center text-center">
                        <div>
                          <img src="icon/favicon500.png" alt="To the moon!" class="active-bounce img-fluid mb-2" style="max-width: 150px;">
                          <h3>To the moon! </h3>
                          <h5>... and far beyond</h5>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Conversion Section -->
            <div class="main-content p-3 convert-section container-fluid" id="convertSection">
                <div class="row">
                    <div class="col-lg-6 order-md-1 order-1 w-100 mb-2">
                        <div class="mb-3" id="convertTopMessage"></div>
                        <div class="mb-3 d-none" id="convertSimpleEncryptionSection">
                            <div class="form-check">
                                <label class="form-check-label">
                                <input type="checkbox" id="doSimpleEncryption" class="form-check-input" checked value="">
                                <span id="simpleEncryptionText">Use a <a class="text-muted" data-toggle="collapse" data-target="#simpleEncryptionExplanation" aria-expanded="true" aria-controls="simpleEncryptionExplanation" ><u>Simple Encryption</u></a> with your unique key</span>
                                </label>
                            </div>
                            <div id="simpleEncryptionExplanation" class="collapse mt-2">
                                <div class="card mb-1">
                                    <div class="card-body">
                                        <h5 class="card-title">Simple Encryption</h5>
                                        <p class="card-text">
                                            The simple encryption algorithm uses XOR as its basis.<br>
                                            The XOR encryption key is the same length as the text being encrypted.<br>
                                            The key is derived using the <strong>PBKDF2 key derivation algorithm</strong> with a random 96-bit salt and the <strong>SHA-512 hash</strong> of the unique algorithm, ensuring that even identical input text produces a different cipher.<br><hr>

                                            This method helps prevent:
                                            <ul>
                                                <li>Guessing the private algorithm key due to the XOR process.</li>
                                                <li>Guessing the XOR key via known plaintext (The key used is always unique, and patterns do not repeat because of the adaptive length).</li>
                                            </ul>

                                            However, this method is not as robust as standard algorithms like AES-GCM due to:
                                            <ul>
                                                <li>XOR not being considered a secure method for data encryption.</li>
                                                <li>Missing data integrity checks (authentication): The data is not verified for integrity, which could lead to tampering and other attack vectors.</li>
                                            </ul>

                                            <strong>For a standardized encryption process, use the üîê Encrypt function on this site.</strong>
                                        </p>
                                    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form class="form">
                            <!-- Message Input -->
                            <div class="input-group gradient-blur mb-1">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">‚úâÔ∏è</span>
                                </div>
                                <textarea class="form-control" placeholder="Message" aria-label="Emoji" id="convertMessageInput" rows="5"></textarea>
                                <div class="input-group-append">
                                    <button id="clearConvertInputButton" type="button" class="btn bg-light btn-block">Delete <br> Message</button>
                                </div>
                            </div>
                            <hr>
                            <!-- Convert Button -->
                            <button id="convertButton" type="button" class="btn bg-light shadow-lg btn-block mb-4">üîÑ Convert</button>
                        </form>
                        
                        <!-- Output Message -->
                        <div class="input-group gradient-blur mb-5">
                            <textarea class="form-control" aria-label="Emoji" id="convertOutputTextarea" rows="10" readonly>Converted message</textarea>
                            <div class="input-group-append">
                                <button id="copyConvertOutputButton" type="button" class="btn bg-light btn-block">Copy <br>to clipboard</button>
                            </div>
                        </div>

                        <!-- Private Conversion Algorithm -->
                        <a class="btn btn-block text-light mb-3" data-toggle="collapse" data-target="#privateAlgorithmSection" aria-expanded="true" aria-controls="privateAlgorithmSection" id="showPrivateAlgorithmButton">üíé Private Algorithm</a>
                        <div id="privateAlgorithmSection" class="collapse">
                            <div class="card mb-1">
                                <div class="card-body">
                                    <button id="generatePrivateConversionButton" type="button" class="btn bg-light btn-block mb-2">üîÆ Generate (new) private algorithm</button>
                                    <span id="privateLinkText">Your link to the private conversion algorithm: </span> <br>
                                    <div class="input-group gradient-blur mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">üß¨</span>
                                        </div>
                                        <textarea rows="5" class="form-control" readonly id="privateConversionLink" placeholder="(Link here)"></textarea>
                                        <div class="input-group-append">
                                            <button id="copyPrivateConversionLink" type="button" class="btn btn-light btn-block ">Copy</button>
                                        </div>
                                    </div>
                                    <button id="disablePrivateConversionButton" type="button" class="d-none btn bg-danger btn-block mb-2">üóëÔ∏è Remove private algorithm</button>
                                </div>
                            
                                <div class="card-footer">
                                    <i id="privateAlgorithmDisclaimer">
                                        Using a private algorithm is just another layer of obfuscation, but can be cracked pretty easily. 
                                        <br>
                                        Especially, when using the same algorithm more than once.
                                        <br>
                                        You can improve the security by enabling simple encryption, for details click on "Simple Encryption" on the top of the page.
                                    </i>
                                </div>
                            </div>
                        </div>
                        <i class="text-muted" id="privateAlgorithmFooter"> You can use a private algorithm with a unique key to obfuscate your messages and use simple encrypt to add a another layer of security.</i>
            
                    </div>
                    <div id="informationConversion" class="col-md-6 order-md-2 order-2 w-100">
                        <h4 class="m-2">Information <a class="hide-information">(<u>hide</u>)</a></h4>
                        <div class="accordion" id="faqConversionAccordion">
                            <!-- FAQ Item 1 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqConversionHeading1">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button" type="button" data-toggle="collapse" data-target="#faqConversionCollapse1" aria-expanded="true" aria-controls="faqConversionCollapse1">
                                            <strong id="faqConversionQuestion1">What is NasaEmoji?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqConversionCollapse1" class="collapse" aria-labelledby="faqConversionHeading1" data-parent="#faqConversionAccordion">
                                    <div class="card-body">
                                        <span id="faqConversionAnswer1">NasaEmoji is a versatile tool that allows you to convert text to emojis and encrypt messages using emojis. The site offers two main apps: <strong>Conversion</strong> and <strong>Encryption</strong>. The Conversion app lets you transform any text into emojis and back without encryption, while the Encryption app enables you to securely encrypt and decrypt messages using emojis as keys and output.</span>
                                    </div>
                                </div>
                            </div>
                             <!-- FAQ Item 3 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqConversionHeading3">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqConversionCollapse3" aria-expanded="false" aria-controls="faqConversionCollapse3">
                                            <strong id="faqConversionQuestion3">How do I convert text to emojis?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqConversionCollapse3" class="collapse show" aria-labelledby="faqConversionHeading3" data-parent="#faqConversionAccordion">
                                    <div class="card-body">
                                        <span id="faqConversionAnswer3">
                                            To convert text to emojis:
                                            <ul>
                                                <li>Ensure you're on the <strong>Conversion</strong> app (the default app).</li>
                                                <li>Enter your message in the input field.</li>
                                                <li>Click the <strong>üîÑ Convert</strong> button.</li>
                                                <li>The converted message will appear in the output field.</li>
                                                <li>You can copy the output using the <strong>Copy to clipboard</strong> button.</li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 25 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqConversionHeading25">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqConversionCollapse25" aria-expanded="false" aria-controls="faqConversionCollapse25">
                                            <strong id="faqConversionQuestion25">How do I use the private algorithm?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqConversionCollapse25" class="collapse" aria-labelledby="faqConversionHeading3" data-parent="#faqConversionAccordion">
                                    <div class="card-body">
                                        <span id="faqConversionAnswer25">
                                            To use the private algorithm:
                                            <ul>
                                                <li>Ensure you're on the <strong>Conversion</strong> app (the default app).</li>
                                                <li>Click <strong>üíé Private Algorithm</strong> and generate a key.</li>
                                                <li>You can use the conversion app like before.</li>
                                                <li>Share the link with your receipient.</li>
                                                <li>When the key does not match, the output is gibberish.</li>
                                                <li>The more you use the same key for different messages and the longer the messages are, the easier it is to crack the key.</li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 26 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqConversionHeading26">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqConversionCollapse26" aria-expanded="false" aria-controls="faqConversionCollapse19">
                                            <strong id="faqConversionQuestion26">What is simple encryption?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqConversionCollapse26" class="collapse" aria-labelledby="faqConversionHeading26" data-parent="#faqConversionAccordion">
                                    <div class="card-body">
                                        <span id="faqConversionAnswer26">Simple encryption is a basic way to protect your messages. Here‚Äôs what you need to know:<ul><li>It uses XOR to scramble your text.</li><li>The encryption key matches the length of your message.</li><li>The key is created securely with a random salt.</li><li>Prevents others from easily guessing your key.</li><li>Not as strong as advanced methods like AES.</li><li>For better security, use the üîê Encrypt feature on this site.</li></ul></span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 19 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqConversionHeading19">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqConversionCollapse19" aria-expanded="false" aria-controls="faqConversionCollapse19">
                                            <strong id="faqConversionQuestion19">Does NasaEmoji send any data over the internet?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqConversionCollapse19" class="collapse" aria-labelledby="faqConversionHeading19" data-parent="#faqConversionAccordion">
                                    <div class="card-body">
                                        <span id="faqConversionAnswer19">No, all operations are performed locally on your device. NasaEmoji does not send any data over the internet.</span>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ Item 9 -->
                            <div class="card mb-1">
                                <div class="card-header" id="faqConversionHeading9">
                                    <h5 class="mb-0">
                                        <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqConversionCollapse9" aria-expanded="false" aria-controls="faqConversionCollapse9">
                                            <strong id="faqConversionQuestion9">How do I add NasaEmoji to my home screen or desktop?</strong>
                                        </button>
                                    </h5>
                                </div>
                                <div id="faqConversionCollapse9" class="collapse" aria-labelledby="faqConversionHeading9" data-parent="#faqConversionAccordion">
                                    <div class="card-body">
                                        <span id="faqConversionAnswer9">
                                            <p>You can add NasaEmoji as a Progressive Web App (PWA) to your home screen or desktop for quick access.</p>
                                            <strong>On iOS (Safari):</strong>
                                            <ol>
                                                <li>Open NasaEmoji in Safari.</li>
                                                <li>Tap the <strong>Share</strong> icon (a square with an upward arrow).</li>
                                                <li>Scroll down and tap <strong>Add to Home Screen</strong>.</li>
                                                <li>Tap <strong>Add</strong> in the upper-right corner.</li>
                                            </ol>
                                            <strong>On Android (Chrome and other browsers):</strong>
                                            <ol>
                                                <li>Open NasaEmoji in your browser.</li>
                                                <li>Tap the <strong>Menu</strong> icon (three dots) in the upper-right corner.</li>
                                                <li>Select <strong>Add to Home screen</strong> or <strong>Install App</strong>.</li>
                                                <li>Follow the on-screen instructions.</li>
                                            </ol>
                                            <strong>On macOS (Safari):</strong>
                                            <ol>
                                                <li>Open NasaEmoji in Safari.</li>
                                                <li>Go to <strong>File</strong> > <strong>Add to Dock</strong>.</li>
                                            </ol>
                                            <strong>On Desktop (Chrome):</strong>
                                            <ol>
                                                <li>Open NasaEmoji in Chrome.</li>
                                                <li>Click the <strong>Install</strong> icon in the address bar (a computer with a down arrow).</li>
                                                <li>Click <strong>Install</strong>.</li>
                                            </ol>
                                            <strong>On Desktop (Firefox and other browsers):</strong>
                                            <p>Firefox does not support installing PWAs directly. You can bookmark the site or create a shortcut manually.</p>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="bannerConversion" class="col-lg-6 d-none order-md-2 order-2 w-100 justify-content-center align-items-center text-center">
                        <div>
                          <img src="icon/favicon500.png" alt="To the moon!" class="active-bounce img-fluid mb-2" style="max-width: 150px;">
                          <h3>To the moon! </h3>
                          <h5>... and far beyond</h5>
                        </div>
                    </div>
                </div> 
            </div>
            <!-- About Section -->
            <div class="p-3 main-content info-section" id="aboutSection">
                <h6 class="text-muted font-italic">Here you find information about the site, its features and their purpose.</h6>
                <!-- FAQ Section -->
                <div class="row h-75">
                    <div class="col-xl-3 col-md-6 col-12 mb-3">
                        <div class="card shadow h-100">
                            <div class="card-body">
                              <h4 class="card-title" id="informationTabHeader">‚ÑπÔ∏è Information</h4>
                              <h6 class="card-subtitle mb-2 text-muted" id="informationTabDescription">About NasaEmoji.com</h6>
                              <p class="text-muted font-italic" id="informationTabSubDescription">The site does not use cookies or any tracking methods and does not log your IP. Any calculations are done on-device only.</p>
                              <hr>
                              <div class="accordion" id="faqAccordionGeneral">
                                    <!-- FAQ Item 1 -->
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading1">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button" type="button" data-toggle="collapse" data-target="#faqCollapse1" aria-expanded="true" aria-controls="faqCollapse1">
                                                    <strong id="faqQuestion1">What is NasaEmoji?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse1" class="collapse show" aria-labelledby="faqHeading1" data-parent="#faqAccordionGeneral">
                                            <div class="card-body">
                                                <span id="faqAnswer1">NasaEmoji is a versatile tool that allows you to convert text to emojis and encrypt messages using emojis. The site offers two main apps: <strong>Conversion</strong> and <strong>Encryption</strong>. The Conversion app lets you transform any text into emojis and back without encryption, while the Encryption app enables you to securely encrypt and decrypt messages using emojis as keys and output.</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- FAQ Item 2 -->
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading2">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse2" aria-expanded="false" aria-controls="faqCollapse2">
                                                    <strong id="faqQuestion2">How do I use NasaEmoji?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse2" class="collapse" aria-labelledby="faqHeading2" data-parent="#faqAccordionGeneral">
                                            <div class="card-body">
                                                <span id="faqAnswer2">NasaEmoji features two apps: <strong>Conversion</strong> and <strong>Encryption</strong>. By default, the site opens with the <strong>Conversion</strong> app. You can switch between apps using the <strong>Choose App</strong> dropdown in the navigation bar.
                                
                                                <br><br>
                                                <strong>To Convert Text to Emojis:</strong>
                                                <ul>
                                                    <li>Ensure you're on the <strong>Conversion</strong> app.</li>
                                                    <li>Enter your message in the input field.</li>
                                                    <li>Click the <strong>üîÑ Convert</strong> button.</li>
                                                    <li>Your converted message will appear in the output field.</li>
                                                </ul>
                                
                                                <strong>To Encrypt a Message:</strong>
                                                <ul>
                                                    <li>Switch to the <strong>Encryption</strong> app using the <strong>Choose App</strong> dropdown.</li>
                                                    <li>Enter your message in the input field.</li>
                                                    <li>Generate a key by clicking the <strong>üîÑ</strong> button next to the key input field, or enter your own key.</li>
                                                    <li>Click the <strong>üîÄ Encrypt / Decrypt</strong> button.</li>
                                                    <li>Your encrypted message will appear in the output field.</li>
                                                </ul>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- FAQ Item 9 -->
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading9">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse9" aria-expanded="false" aria-controls="faqCollapse9">
                                                    <strong id="faqQuestion9">How do I add NasaEmoji to my home screen or desktop?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse9" class="collapse" aria-labelledby="faqHeading9" data-parent="#faqAccordionGeneral">
                                            <div class="card-body">
                                                <span id="faqAnswer9">
                                                    <p>You can add NasaEmoji as a Progressive Web App (PWA) to your home screen or desktop for quick access.</p>
                                                    <strong>On iOS (Safari):</strong>
                                                    <ol>
                                                        <li>Open NasaEmoji in Safari.</li>
                                                        <li>Tap the <strong>Share</strong> icon (a square with an upward arrow).</li>
                                                        <li>Scroll down and tap <strong>Add to Home Screen</strong>.</li>
                                                        <li>Tap <strong>Add</strong> in the upper-right corner.</li>
                                                    </ol>
                                                    <strong>On Android (Chrome and other browsers):</strong>
                                                    <ol>
                                                        <li>Open NasaEmoji in your browser.</li>
                                                        <li>Tap the <strong>Menu</strong> icon (three dots) in the upper-right corner.</li>
                                                        <li>Select <strong>Add to Home screen</strong> or <strong>Install App</strong>.</li>
                                                        <li>Follow the on-screen instructions.</li>
                                                    </ol>
                                                    <strong>On macOS (Safari):</strong>
                                                    <ol>
                                                        <li>Open NasaEmoji in Safari.</li>
                                                        <li>Go to <strong>File</strong> > <strong>Add to Dock</strong>.</li>
                                                    </ol>
                                                    <strong>On Desktop (Chrome):</strong>
                                                    <ol>
                                                        <li>Open NasaEmoji in Chrome.</li>
                                                        <li>Click the <strong>Install</strong> icon in the address bar (a computer with a down arrow).</li>
                                                        <li>Click <strong>Install</strong>.</li>
                                                    </ol>
                                                    <strong>On Desktop (Firefox and other browsers):</strong>
                                                    <p>Firefox does not support installing PWAs directly. You can bookmark the site or create a shortcut manually.</p>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- FAQ Item 10 -->
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading10">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse10" aria-expanded="false" aria-controls="faqCollapse10">
                                                    <strong id="faqQuestion10">Is my data secure?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse10" class="collapse" aria-labelledby="faqHeading10" data-parent="#faqAccordionGeneral">
                                            <div class="card-body">
                                                <span id="faqAnswer10">Yes, all data processing happen locally on your device. No data is sent anywhere, ensuring your messages remain private.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>   
                     <div class="col-xl-3 col-md-6 col-12 mb-3">
                        <div class="card shadow h-100" >
                            <div class="card-body">
                              <h4 class="card-title" id="convertTabHeader">üîÑ Convert</h4>
                              <h6 class="card-subtitle mb-2 text-muted" id="convertTabDescription">Convert text to emojis and back. Simpler Algorithms. You can use a private algorithm link with simple encrypt to increase security.</h6>
                              <a href="?convert" class="btn btn-light btn-block mb-3" id="btnGoToConvert">Go to üîÑ Convert App</a>
                              <hr>
                              <div class="accordion" id="faqAccordionConversion">
                                <h6 class="text-muted">How to</h6>
                    
                                <!-- FAQ Item 3 -->
                                <div class="card mb-1">
                                    <div class="card-header" id="faqHeading3">
                                        <h5 class="mb-0">
                                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse3" aria-expanded="false" aria-controls="faqCollapse3">
                                                <strong id="faqQuestion3">How do I convert text to emojis?</strong>
                                            </button>
                                        </h5>
                                    </div>
                                    <div id="faqCollapse3" class="collapse" aria-labelledby="faqHeading3" data-parent="#faqAccordionConversion">
                                        <div class="card-body">
                                            <span id="faqAnswer3">
                                                To convert text to emojis:
                                                <ul>
                                                    <li>Ensure you're on the <strong>Conversion</strong> app (the default app).</li>
                                                    <li>Enter your message in the input field.</li>
                                                    <li>Click the <strong>üîÑ Convert</strong> button.</li>
                                                    <li>The converted message will appear in the output field.</li>
                                                    <li>You can copy the output using the <strong>Copy to clipboard</strong> button.</li>
                                                </ul>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <!-- FAQ Item 25 -->
                                <div class="card mb-1">
                                    <div class="card-header" id="faqHeading25">
                                        <h5 class="mb-0">
                                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse25" aria-expanded="false" aria-controls="faqCollapse25">
                                                <strong id="faqQuestion25">How do I use the private algorithm?</strong>
                                            </button>
                                        </h5>
                                    </div>
                                    <div id="faqCollapse25" class="collapse" aria-labelledby="faqHeading3" data-parent="#faqAccordionConversion">
                                        <div class="card-body">
                                            <span id="faqAnswer25">
                                                To use the private algorithm:
                                                <ul>
                                                    <li>Ensure you're on the <strong>Conversion</strong> app (the default app).</li>
                                                    <li>Click <strong>üíé Private Algorithm</strong> and generate a key.</li>
                                                    <li>You can use the conversion app like before.</li>
                                                    <li>Share the link with your receipient.</li>
                                                    <li>When the key does not match, the output is gibberish.</li>
                                                    <li>The more you use the same key for different messages and the longer the messages are, the easier it is to crack the key.</li>
                                                </ul>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <h6 class="text-muted">Private Algorithm Security</h6>
                                <!-- FAQ Item 26 -->
                                <div class="card mb-1">
                                    <div class="card-header" id="faqConversionHeading26">
                                        <h5 class="mb-0">
                                            <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqConversionCollapse26" aria-expanded="false" aria-controls="faqConversionCollapse19">
                                                <strong id="faqConversionQuestion26">What is simple encryption?</strong>
                                            </button>
                                        </h5>
                                    </div>
                                    <div id="faqConversionCollapse26" class="collapse" aria-labelledby="faqConversionHeading26" data-parent="#faqConversionAccordion">
                                        <div class="card-body">
                                            <span id="faqConversionAnswer26">Simple encryption is a basic way to protect your messages. Here‚Äôs what you need to know:<ul><li>It uses XOR to scramble your text.</li><li>The encryption key matches the length of your message.</li><li>The key is created securely with a random salt.</li><li>Prevents others from easily guessing your key.</li><li>Not as strong as advanced methods like AES.</li><li>For better security, use the üîê Encrypt feature on this site.</li></ul></span>
                                        </div>
                                    </div>
                                </div>
                              </div>  
                            </div>
                        </div>      
                     </div>   
                     <div class="col-xl-3 col-md-6 col-12 mb-3">
                        <div class="card shadow h-100">
                            <div class="card-body">
                              <h4 class="card-title" id="encryptTabHeader">üîê Encrypt</h4>
                              <h6 class="card-subtitle mb-2 text-muted" id="encryptTabDescription">The most secure way of protecting data using compute intensive hash algorithms and a unique way of outputting your scrambled text. Combines two chained AES-Algorithms with XOR on top.
                              </h6>
                              <a href="?convert" class="btn btn-light btn-block mb-3" id="btnGoToEncrypt">Go to üîê Encrypt App</a>
                              <hr>
                              <div class="accordion" id="faqAccordionEncryption">
                                <!-- FAQ Item 4 -->
                                    <h6 class="text-muted">How to</h6>
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading4">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse4" aria-expanded="false" aria-controls="faqCollapse4">
                                                    <strong id="faqQuestion4">How do I encrypt a message?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse4" class="collapse" aria-labelledby="faqHeading4" data-parent="#faqAccordionEncryption">
                                            <div class="card-body">
                                                <span id="faqAnswer4">
                                                    To encrypt a message:
                                                    <ul>
                                                        <li>Switch to the <strong>Encryption</strong> app using the <strong>Choose App</strong> dropdown.</li>
                                                        <li>Enter your message in the input field.</li>
                                                        <li>Generate a key by clicking the <strong>üîÑ</strong> button next to the key input field, or enter your own key.</li>
                                                        <li>Click the <strong>üîÄ Encrypt / Decrypt</strong> button.</li>
                                                        <li>Your encrypted message will appear in the output field.</li>
                                                    </ul>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- FAQ Item 5 -->
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading5">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse5" aria-expanded="false" aria-controls="faqCollapse5">
                                                    <strong id="faqQuestion5">How do I decrypt a message?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse5" class="collapse" aria-labelledby="faqHeading5" data-parent="#faqAccordionEncryption">
                                            <div class="card-body">
                                                <span id="faqAnswer5">
                                                    To decrypt a message:
                                                    <ul>
                                                        <li>Switch to the <strong>Encryption</strong> app.</li>
                                                        <li>Paste the encrypted emoji message into the input field.</li>
                                                        <li>Enter the key used for encryption in the key input field.</li>
                                                        <li>Click the <strong>üîÄ Encrypt / Decrypt</strong> button.</li>
                                                        <li>Your decrypted message will appear in the output field.</li>
                                                    </ul>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- FAQ Item 6 -->
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading6">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse6" aria-expanded="false" aria-controls="faqCollapse6">
                                                    <strong id="faqQuestion6">How do I generate an emoji key?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse6" class="collapse" aria-labelledby="faqHeading6" data-parent="#faqAccordionEncryption">
                                            <div class="card-body">
                                                <span id="faqAnswer6">
                                                    To generate an emoji key in the <strong>Encryption</strong> app:
                                                    <ul>
                                                        <li>Click the <strong>üîÑ</strong> button next to the key input field.</li>
                                                        <li>The generated key will appear in the key input field.</li>
                                                        <li>You can copy the key using the <strong>Copy</strong> button.</li>
                                                        <li>Save the key in one of the 5 available slots using the <strong>üíæ Save</strong> button for future use.</li>
                                                    </ul>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <button id="btnAdvancedEncryption" class="btn btn-light btn-block my-3" type="button" data-toggle="collapse" data-target="#collapseFAQEncryption" aria-expanded="false" aria-controls="collapseFAQEncryption">
                                        ‚ú¥Ô∏è About Encryption Security
                                      </button>
                                      <div class="collapse" id="collapseFAQEncryption">
                                        <h6 class="text-muted">Algorithms <a href="https://github.com/mqxym/EmojiCrypt?tab=readme-ov-file#-layered-encryption-with-emojis">(Details)</a></h6>
                                
                                        <!-- FAQ Item 12 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading12">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse12" aria-expanded="false" aria-controls="faqCollapse12">
                                                        <strong id="faqQuestion12">What encryption algorithms does NasaEmoji use?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse12" class="collapse" aria-labelledby="faqHeading12" data-parent="#faqAccordionEncryption">
                                                <div class="card-body">
                                                    <span id="faqAnswer12">NasaEmoji uses a combination of AES-CTR, AES-GCM, and XOR encryption algorithms to secure your messages.</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- FAQ Item 13 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading13">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse13" aria-expanded="false" aria-controls="faqCollapse13">
                                                        <strong id="faqQuestion13">Why are multiple encryption algorithms used?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse13" class="collapse" aria-labelledby="faqHeading13" data-parent="#faqAccordionEncryption">
                                                <div class="card-body">
                                                    <span id="faqAnswer13">Using multiple algorithms enhances security by adding layers of encryption, making it more difficult for unauthorized parties to decrypt the message.</span>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <h6 class="text-muted">Hashing <a href="https://github.com/mqxym/EmojiCrypt?tab=readme-ov-file#%EF%B8%8F-kdvx-key-derviation-version-x">(Algorithm Details)</a></h6>
                                        <small></small>
                                        <!-- FAQ Item 14 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading14">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse14" aria-expanded="false" aria-controls="faqCollapse14">
                                                        <strong id="faqQuestion14">What is key hashing and why is it used?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse14" class="collapse" aria-labelledby="faqHeading14" data-parent="#faqAccordionEncryption">
                                                <div class="card-body">
                                                    <span id="faqAnswer14">Key hashing transforms your key into a fixed-size hash using multiple algorithms, enhancing security by preventing direct access to the original key and making brute-force attacks more difficult.</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- FAQ Item 15 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading15">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse15" aria-expanded="false" aria-controls="faqCollapse15">
                                                        <strong id="faqQuestion15">How does key hashing prevent brute-force attacks?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse15" class="collapse" aria-labelledby="faqHeading15" data-parent="#faqAccordionEncryption">
                                                <div class="card-body">
                                                    <span id="faqAnswer15">By hashing the key multiple times with different algorithms and salts, it increases the computational effort required to guess the key, thus deterring brute-force attempts.</span>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <h6 class="text-muted">Your Data</h6>
                                        <!-- FAQ Item 18 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading18">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse18" aria-expanded="false" aria-controls="faqCollapse18">
                                                        <strong id="faqQuestion18">How does NasaEmoji handle key storage?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse18" class="collapse" aria-labelledby="faqHeading18" data-parent="#faqAccordionEncryption">
                                                <div class="card-body">
                                                    <span id="faqAnswer18">You can save keys locally in one of the 5 available slots using your browser's local storage for quick access.</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- FAQ Item 19 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading19">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse19" aria-expanded="false" aria-controls="faqCollapse19">
                                                        <strong id="faqQuestion19">Does NasaEmoji send any data over the internet?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse19" class="collapse" aria-labelledby="faqHeading19" data-parent="#faqAccordionEncryption">
                                                <div class="card-body">
                                                    <span id="faqAnswer19">No, all operations are performed locally on your device. NasaEmoji does not send any data over the internet.</span>
                                                </div>
                                            </div>
                                        </div>
                                    
                                        <!-- FAQ Item 21 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading21">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse21" aria-expanded="false" aria-controls="faqCollapse21">
                                                        <strong id="faqQuestion21">Is the encryption standardized?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse21" class="collapse" aria-labelledby="faqHeading21" data-parent="#faqAccordionEncryption">
                                                <div class="card-body">
                                                    <span id="faqAnswer21">NasaEmoji uses standard encryption algorithms but combines them in a unique way. While secure, it is recommended for casual use rather than critical security applications.</span>
                                                </div>
                                            </div>
                                        </div>
                                      </div>
                                </div>                     
                            </div>
                          </div>
                     </div>   
                     <div class="col-xl-3 col-md-6 col-12 mb-3">
                        <div class="card shadow h-100">
                            <div class="card-body">
                              <h4 class="card-title" id="moreTabHeader">*Ô∏è‚É£ More</h4>
                              <h6 class="card-subtitle mb-2 text-muted" id="moreTabDescription">Download app and source code</h6>
                              <hr>
                              <div class="accordion" id="faqAccordionMore">
                                <h6 class="text-muted">Limitations</h6>
                                    <!-- FAQ Item 22 -->
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading22">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse22" aria-expanded="false" aria-controls="faqCollapse22">
                                                    <strong id="faqQuestion22">Can I trust NasaEmoji for highly sensitive information?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse22" class="collapse" aria-labelledby="faqHeading22" data-parent="#faqAccordionMore">
                                            <div class="card-body">
                                                <span id="faqAnswer22">While NasaEmoji employs strong encryption, it is primarily designed for personal and casual use. For highly sensitive information, consult security professionals.</span>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                    <h6 class="text-muted">Source Code</h6>
                                    <!-- FAQ Item 20 -->
                                    <div class="card mb-1">
                                        <div class="card-header" id="faqHeading20">
                                            <h5 class="mb-0">
                                                <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse20" aria-expanded="false" aria-controls="faqCollapse20">
                                                    <strong id="faqQuestion20">Can I use NasaEmoji offline?</strong>
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="faqCollapse20" class="collapse" aria-labelledby="faqHeading20" data-parent="#faqAccordionMore">
                                            <div class="card-body">
                                                <span id="faqAnswer20">Yes, you can download NasaEmoji for local execution and use it offline without an internet connection.</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                        <!-- FAQ Item 23 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading23">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse23" aria-expanded="false" aria-controls="faqCollapse23">
                                                        <strong id="faqQuestion23">Is NasaEmoji open-source?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse23" class="collapse" aria-labelledby="faqHeading23" data-parent="#faqAccordionMore">
                                                <div class="card-body">
                                                    <span id="faqAnswer23">Yes, NasaEmoji's source code is available on GitHub, allowing you to review and contribute to its development.</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- FAQ Item 24 -->
                                        <div class="card mb-1">
                                            <div class="card-header" id="faqHeading24">
                                                <h5 class="mb-0">
                                                    <button class="btn faq-button collapsed" type="button" data-toggle="collapse" data-target="#faqCollapse24" aria-expanded="false" aria-controls="faqCollapse24">
                                                        <strong id="faqQuestion24">How can I contribute to NasaEmoji?</strong>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="faqCollapse24" class="collapse" aria-labelledby="faqHeading24" data-parent="#faqAccordionMore">
                                                <div class="card-body">
                                                    <span id="faqAnswer24">You can contribute by visiting the GitHub repository, reporting issues, suggesting improvements, or submitting pull requests.</span>
                                                </div>
                                            </div>
                                        </div>
                                    
                                    <div>
                                    </div>
                                </div>
                            </div>
                        </div>
                     </div>    
                </div>
                <div class="row h-25">
                    <div class="col-xl-3 col-md-6 col-12 mb-3">
                        <div class="card shadow h-100">
                            <div class="card-body">
                              <h4 class="card-title text-center">üí¨ Contact</h4>
                              <p class="card-text">
                                You can contact me via e-mail: <a href="mailto:maxim@omg.lol">maxim@omg.lol</a>
                              </p>
                              <p class="card-text">
                                Visit the GitHub issue page to report any bugs on this site. If you would like to improve the automated translation for your language, feel free to open a pull request.
                              </p>
                              <a href="https://github.com/mqxym/EmojiCrypt/issues" class="card-link">Github Issues</a>
                              <a href="https://maxim.omg.lol" class="card-link">My Homapage | More Links</a>
                            </div>
                          </div>
                     </div>    
                     <div class="col-xl-3 col-md-6 col-12 mb-3">
                        <div class="card shadow h-100">
                            <div class="card-body">
                              <h4 class="card-title text-center">üñ•Ô∏è Source Code</h4>
                              <h6 class="card-subtitle mb-2 text-muted">Here you find the relevant links about the sites code:</h6>
                              <ul>
                                <li>
                                    <a href="https://github.com/mqxym/EmojiCrypt/">
                                        Official Repository (Name: EmojiCrypt)
                                    </a>
                                </li>
                                <li>
                                    <a href="https://github.com/mqxym/EmojiCrypt/releases">
                                        Version History (Releases) and <br>
                                        Download Latest Release <br>
                                        (for local and offline execution)
                                    </a>
                                </li>
                                <li>
                                    <a href="https://github.com/mqxym/EmojiCrypt/issues">
                                        Issue Collection
                                    </a>
                                </li>
                              </ul>
                            </div>
                          </div>
                     </div>   
                     <div class="col-xl-3 col-md-6 col-12 mb-3">
                        <div class="card shadow h-100">
                            <div class="card-body">
                              <h4 class="card-title text-center">üÖ∞Ô∏ènonymous Feedback</h4>
                              <h6 class="card-subtitle mb-2 text-muted">Share your opinion:</h6>
                              <p class="card-text">
                                The option to send anonymous feedback about this site is coming soon.
                              </p>
                              <a href="" class="card-link">Link coming soon</a>
                            </div>
                          </div>
                     </div>   
                     <div class="col-xl-3 col-md-6 col-12 mb-3">
                        <div class="card shadow h-100">
                            <div class="card-body">
                                <h4 class="card-title text-center">üöÄ https://nasaemoji.com</h4>
                            <div class="justify-content-center text-center align-items-center"> 
                                <img class="card-img-top img-fluid active-bounce " style="max-width: 100px;" src="icon/favicon500.png" alt="Logo">
                            </div>
                           
                              <h6 class="card-subtitle mb-2 text-muted">You can copy the link above to share with anyone.</h6>
                              <p class="card-text">
                                You are on version <span class="versionFooter"></span>
                              </p>
                              <p class="card-text text-muted">
                                ¬©Ô∏è <script>document.write(/\d{4}/.exec(Date())[0])</script>
                                nasaemoji.com
                              </p>
                            </div>
                          </div>
                     </div>    
                </div>

                </div>
            </div>
        </div>

        <footer class="bg-light text-left p-2">
            <div class="mb-2">
                <small class="text-muted">
                    Powered by <a class="text-muted" target="_blank" href="https://github.com/mqxym/EmojiCrypt"><u>EmojiCrypt</u></a> version <span class="versionFooter">3.4.5</span> built by <a class="text-muted" target="_blank" href="https://maxim.omg.lol"><u>@mqxym</u></a>
                    <br>
                    Legacy versions: 
                    <a class="text-muted" target="_blank" href="https://v1.nasaemoji.com"><u>v1.1.0</u></a> 
                    <span> | </span>
                    <a class="text-muted" target="_blank" href="https://v2.nasaemoji.com"><u>v2.2.4</u></a> 
                    <i>(not recommended)</i>
                    <br>
                    <a class="text-muted" target="_blank" href="https://github.com/mqxym/EmojiCrypt/releases"><u>Download</u></a> 
                    <span> | </span>
                    <a class="text-muted" target="_blank" href="https://github.com/mqxym/EmojiCrypt/releases"><u>Changelog</u></a> 
                    <span> | </span>
                    <a class="text-muted" data-toggle="collapse" data-target="#privacyPolicySection" aria-expanded="true" aria-controls="privacyPolicySection" onclick="setTimeout(() => document.getElementById('privacyPolicySection').scrollIntoView({ behavior: 'smooth' }), 100)" ><u>Privacy Policy</u></a> 
                </small>
            </div>
            <div id="privacyPolicySection" class="collapse">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Privacy Policy for NasaEmoji</h5>
                        <p class="card-text">
                          <strong>Effective Date:</strong> 2023/05/01
                        </p>
                        <p class="card-text">
                          <strong>Introduction:</strong> At NasaEmoji (accessible from <a href="https://nasaemoji.com">https://nasaemoji.com</a>), we prioritize your privacy and are committed to providing a secure experience. This Privacy Policy outlines the practices regarding data collection, usage, and protection. Please read this policy carefully.
                        </p>
                        
                        <p class="card-text">
                          <strong>Data Collection:</strong> NasaEmoji does not collect, store, or process any personal information, including but not limited to IP addresses, names, addresses, or contact details. We strive to ensure complete user anonymity.
                        </p>
                    
                        <p class="card-text">
                          <strong>Cookies:</strong> NasaEmoji does not use cookies to track or monitor user behavior.
                        </p>
                        
                        <p class="card-text">
                          <strong>Third Parties:</strong> No third parties are involved in the operation of this website. NasaEmoji functions independently and does not share or disclose user information with any external entities.
                        </p>
                        
                        <p class="card-text">
                          <strong>Data Processing:</strong> All data entered on NasaEmoji is processed locally on your device. No data is transmitted from your device to any server, ensuring complete privacy and control over your input.
                        </p>
                        
                        <p class="card-text">
                          <strong>Changes to This Privacy Policy:</strong> NasaEmoji reserves the right to update this Privacy Policy as necessary. We encourage you to review this policy periodically to stay informed of any changes.
                        </p>
                        
                        <p class="card-text">
                          <strong>Contact Us:</strong> For any questions or concerns regarding this Privacy Policy, please contact us at <a href="mailto:maxim@omg.lol">maxim@omg.lol</a>.
                        </p>
                    </div>
                    <div class="card-footer text-muted">
                        By using NasaEmoji, you acknowledge and agree to the terms outlined in this Privacy Policy.
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- External Scripts -->
    <script src="js/mainLibrary.js" defer></script>
    <script src="js/main.js" defer></script>
    <script src="js/lang.js" defer></script>

    <script>

        /**
         * Custom Emoji Array when using the private conversion link
         */
        let customEmojiArray = null;

        /**
         * Get the private conversion id from the URL parameter 'id'.
         * @returns {string|null} The private from URL or null if not present.
         */
        function getPrivateIdfromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.has('id') ? params.get('id') : null;
        }

        let privateConversionId = null;

        /**
         * Sets the custom emoji array for conversion when the id is the URL
         */
        async function updatePrivateAlgorithmFromUrl() {
            if (currentMenu != 'convertSection') {
                privateConversionId = null;
                return;
            }
            privateConversionId = getPrivateIdfromUrl() || localStorage.getItem("nPa");
            if ( privateConversionId ) {
                customEmojiArray = await generateSecurePermutationFromString(privateConversionId, getEmojiArray());
                $('#privateConversionLink').val(window.location.href);
                $('#convertTopMessage').html(getTranslation('privateAlgorithmHeader', languageIndex));
                $('#disablePrivateConversionButton').removeClass('d-none');
                $('#convertSimpleEncryptionSection').removeClass('d-none');
            } else {
                customEmojiArray = null;
            }
        }


        /**
         * Hides information FAQ tab for conversion and encryption section forever
         */

        function hideInformation() {
            $('#bannerEncryption').removeClass('d-none').addClass('d-flex');
            $('#bannerConversion').removeClass('d-none').addClass('d-flex');
            $('#informationEncryption').addClass('d-none');
            $('#informationConversion').addClass('d-none');
        }

        // =======================================
        // Language Handling
        // =======================================
    
        /**
         * Available languages with their codes and names.
         */
        const languages = [
            { code: 'en', name: 'English üá∫üá∏' },
            { code: 'de', name: 'German üá©üá™' },
            { code: 'zh', name: 'Chinese üá®üá≥' },
            { code: 'ru', name: 'Russian üá∑üá∫' },
            { code: 'es', name: 'Spanish üá™üá∏' },
            { code: 'fr', name: 'French üá´üá∑' },
            { code: 'ar', name: 'Arabic üá∏üá¶' },
        ];

        /**
         * Retrieves the matching language code from the global languages array by reading the user set language.
         *
         * @returns {string|null} The matching language code if found, otherwise `null`.
         */
        function getUserLanguageCode() {
            // Get the user's preferred language from the browser
            const userLanguage = navigator.language || (navigator.languages && navigator.languages[0]) || 'en';

            // Extract the primary language code (e.g., 'en' from 'en-US')
            const primaryCode = userLanguage.split('-')[0].toLowerCase();

            // Find the language with the primary code
            const language = languages.find(lang => lang.code.toLowerCase() === primaryCode);

            // Return the language code if found, otherwise null
            return language ? language.code : null;
        }
    
        /**
         * Get the language code from the URL parameter 'lang'.
         * @returns {string|null} The language code from URL or null if not present.
         */
        function getLanguageCodeFromURL() {
            const params = new URLSearchParams(window.location.search);
            return params.has('lang') ? params.get('lang').toLowerCase() : null;
        }
    
        /**
         * Map language code to index in the languages array.
         * @param {string} code - Language code.
         * @returns {number} Index of language in languages array, or -1 if not found.
         */
        function getLanguageIndexFromCode(code) {
            return languages.findIndex((lang) => lang.code === code);
        }
    
        /**
         * Initialize language settings, determine the current language code and index.
         * @returns {Object} An object containing languageCode and languageIndex.
         */
        function initializeLanguage() {
            let languageCode = getLanguageCodeFromURL() || localStorage.getItem('nLang') || getUserLanguageCode() || 'en';
            let languageIndex = getLanguageIndexFromCode(languageCode);
    
            if (languageIndex === -1) {
                
                languageCode = 'en';
                languageIndex = 0;
            }
    
            localStorage.setItem('nLang', languageCode);
            return { languageCode, languageIndex };
        }
    
        let { languageCode, languageIndex } = initializeLanguage();
    
        // =======================================
        // UI Update Functions
        // =======================================
    
        // Elements to update text content
        const uiTextElements = [
            { selector: '#navbarBrand', key: 'navbarBrand' },
            { selector: '#chooseAppMenu', key: 'chooseAppMenu' },
            { selector: '#encryptMenu', key: 'encryptMenu' },
            { selector: '#convertMenu', key: 'convertMenu' },
            { selector: '#aboutMenu', key: 'aboutMenu' },
            { selector: '#clearEncryptInputButton', key: 'clearEncryptInputButton' },
            { selector: '#encryptDecryptButton', key: 'encryptDecryptButton' },
            { selector: '#copyKeyButton', key: 'copyKeyButton' },
            { selector: '#keyInstructions', key: 'keyInstructions' },
            { selector: '#loadKeyButton', key: 'loadKeyButton' },
            { selector: '#saveKeyButton', key: 'saveKeyButton' },
            { selector: '#encryptOutputTextarea', key: 'encryptOutputTextarea' },
            { selector: '#copyEncryptOutputButton', key: 'copyEncryptOutputButton' },
            { selector: '#clearConvertInputButton', key: 'clearConvertInputButton' },
            { selector: '#convertButton', key: 'convertButton' },
            { selector: '#convertOutputTextarea', key: 'convertOutputTextarea' },
            { selector: '#copyConvertOutputButton', key: 'copyConvertOutputButton' },
            { selector: '#explanation', key: 'explanation' },
            { selector: '#footerHighlight', key: 'footerHighlight' },
            { selector: '#footerSource', key: 'footerSource' },
            { selector: '#privateLinkText', key: 'privateLinkText' },
            { selector: '#copyPrivateConversionLink', key: 'copyPrivateConversionLink' },
            { selector: '#disablePrivateConversionButton', key: 'disablePrivateConversionButton' },
            { selector: '#privateAlgorithmDisclaimer', key: 'privateAlgorithmDisclaimer' },
            { selector: '#generatePrivateConversionButton', key: 'generatePrivateConversionButton' },
            { selector: '#privateAlgorithmFooter', key: 'privateAlgorithmFooter' },
            { selector: '#showPrivateAlgorithmButton', key: 'showPrivateAlgorithmButton' },
            { selector: '#convertTopMessage', key: 'privateAlgorithmHeader' },
            { selector: '#btnGoToConvert', key: 'btnGoToConvert' },
            { selector: '#btnGoToEncrypt', key: 'btnGoToEncrypt' },
            { selector: '#informationTabHeader', key: 'informationTabHeader' },
            { selector: '#convertTabHeader', key: 'convertTabHeader' },
            { selector: '#encryptTabHeader', key: 'encryptTabHeader' },
            { selector: '#moreTabHeader', key: 'moreTabHeader' },
            { selector: '#informationTabDescription', key: 'informationTabDescription' },
            { selector: '#convertTabDescription', key: 'convertTabDescription' },
            { selector: '#encryptTabDescription', key: 'encryptTabDescription' },
            { selector: '#moreTabDescription', key: 'moreTabDescription' },
            { selector: '#informationTabSubDescription', key: 'informationTabSubDescription' },
            { selector: '#btnAdvancedEncryption', key: 'btnAdvancedEncryption' },
            { selector: '#place', key: 'place' },
        ];
    
        // Elements to update placeholder attributes
        const uiPlaceholderElements = [
            { selector: '#encryptMessageInput', key: 'encryptMessageInput' },
            { selector: '#keyInput', key: 'keyInput' },
            { selector: '#convertMessageInput', key: 'convertMessageInput' },
        ];
    
        /**
         * Update FAQ items with translations.
         * @param {number} languageIndex - Index of the current language.
         */
        function updateFAQItems(languageIndex) {
            const faqItemCount = 26;
            for (let i = 1; i <= faqItemCount; i++) {
                $(`#faqQuestion${i}`).html(getTranslation(`faqQuestion${i}`, languageIndex));
                $(`#faqAnswer${i}`).html(getTranslation(`faqAnswer${i}`, languageIndex));
            }

            // Encryption Section FAQ
            $('#faqEncryptionQuestion1').html(getTranslation('faqQuestion1', languageIndex));
            $('#faqEncryptionAnswer1').html(getTranslation('faqAnswer1', languageIndex));
            $('#faqEncryptionQuestion4').html(getTranslation('faqQuestion4', languageIndex));
            $('#faqEncryptionAnswer4').html(getTranslation('faqAnswer4', languageIndex));
            $('#faqEncryptionQuestion5').html(getTranslation('faqQuestion5', languageIndex));
            $('#faqEncryptionAnswer5').html(getTranslation('faqAnswer5', languageIndex));
            $('#faqEncryptionQuestion6').html(getTranslation('faqQuestion6', languageIndex));
            $('#faqEncryptionAnswer6').html(getTranslation('faqAnswer6', languageIndex));
            $('#faqEncryptionQuestion9').html(getTranslation('faqQuestion9', languageIndex));
            $('#faqEncryptionAnswer9').html(getTranslation('faqAnswer9', languageIndex));
            $('#faqEncryptionQuestion12').html(getTranslation('faqQuestion12', languageIndex));
            $('#faqEncryptionAnswer12').html(getTranslation('faqAnswer12', languageIndex));
            $('#faqEncryptionQuestion19').html(getTranslation('faqQuestion19', languageIndex));
            $('#faqEncryptionAnswer19').html(getTranslation('faqAnswer19', languageIndex));
            $('#faqEncryptionQuestion22').html(getTranslation('faqQuestion22', languageIndex));
            $('#faqEncryptionAnswer22').html(getTranslation('faqAnswer22', languageIndex));

            //Conversion Section FAQ
            $('#faqConversionQuestion1').html(getTranslation('faqQuestion1', languageIndex));
            $('#faqConversionAnswer1').html(getTranslation('faqAnswer1', languageIndex));
            $('#faqConversionQuestion3').html(getTranslation('faqQuestion3', languageIndex));
            $('#faqConversionAnswer3').html(getTranslation('faqAnswer3', languageIndex));
            $('#faqConversionQuestion9').html(getTranslation('faqQuestion9', languageIndex));
            $('#faqConversionAnswer9').html(getTranslation('faqAnswer9', languageIndex));
            $('#faqConversionQuestion19').html(getTranslation('faqQuestion19', languageIndex));
            $('#faqConversionAnswer19').html(getTranslation('faqAnswer19', languageIndex));
            $('#faqConversionQuestion25').html(getTranslation('faqQuestion25', languageIndex));
            $('#faqConversionAnswer25').html(getTranslation('faqAnswer25', languageIndex));
            $('#faqConversionQuestion26').html(getTranslation('faqQuestion26', languageIndex));
            $('#faqConversionAnswer26').html(getTranslation('faqAnswer26', languageIndex));
        }
    
        /**
         * Update the UI elements with the translations based on the selected language.
         */
        function updateUILanguage() {
            // Update text content
            uiTextElements.forEach((element) => {
                $(element.selector).html(getTranslation(element.key, languageIndex));
            });
    
            // Update placeholders
            uiPlaceholderElements.forEach((element) => {
                $(element.selector).attr('placeholder', getTranslation(element.key, languageIndex));
            });
    
            // Update Dark Mode Menu Text
            const darkModeKey = isDarkModeEnabled() ? 'disableDarkMode' : 'enableDarkMode';
            $('#darkModeMenu').html(getTranslation(darkModeKey, languageIndex));
    
            // Update FAQ items
            updateFAQItems(languageIndex);
    
            // Update navigation links and language menu links
            updateNavigationLinks();
            updateLanguageMenuLinks();
        }
    
        // =======================================
        // Navigation Handling
        // =======================================
    
        const sections = ['encrypt', 'convert', 'about'];
    
        /**
         * Get the current section from URL parameters.
         * @returns {string} Current section ('encrypt', 'convert', 'about').
         */
        function getCurrentSection() {
            const params = new URLSearchParams(window.location.search);
            for (const section of sections) {
                if (params.has(section)) return section;
            }
            return 'convert'; // Default section
        }
    
        /**
         * Update the navigation links to include the 'lang' parameter.
         */
        function updateNavigationLinks() {
            const currentParams = new URLSearchParams(window.location.search);
            sections.forEach((section) => currentParams.delete(section));
    
            // Set or remove the 'lang' parameter
            if (languageCode !== 'en') {
                currentParams.set('lang', languageCode);
            } else {
                currentParams.delete('lang');
            }
    
            const baseParams = currentParams.toString();
            sections.forEach((section) => {
                $(`#${section}Menu`).attr('href', `?${section}${baseParams ? '&' + baseParams : ''}`);
            });
        }
    
        /**
         * Update the language menu links to point to the current active site.
         */
        function updateLanguageMenuLinks() {
            const currentSection = getCurrentSection();
            $('#languageMenuItems a.dropdown-item').each(function () {
                const langCode = $(this).attr('data-lang-code');
                let href = `?${currentSection}`;
                if (langCode !== 'en') {
                    href += `&lang=${langCode}`;
                }
                $(this).attr('href', href);
            });
        }
    
        // =======================================
        // Dark Mode Handling
        // =======================================
    
        /**
         * Check if dark mode is enabled.
         * @returns {boolean} True if dark mode is enabled
         */
        function isDarkModeEnabled() {
            return localStorage.getItem('nDarkMode') === 'true';
        }

        /**
         * DarkMode Toggle for site device
         */
        function handleDarkModeToggle () {
            if (isDarkModeEnabled()) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        }
    
        const darkModeClassToggles = [
            { selector: 'body', classes: 'dark-custom text-light dark-mode' },
            { selector: '.navbar', removeClasses: 'navbar-light bg-light', addClasses: 'navbar-dark dark-custom2' },
            { selector: '.main-content', classes: 'dark-custom text-light' },
            { selector: '.dropdown-menu', classes: 'dark-custom2' },
            { selector: '.dropdown-item', classes: 'text-light' },
            { selector: '.card', classes: 'dark-custom text-light' },
            { selector: '.card-header', classes: 'dark-custom2' },
            { selector: '.card-body', classes: 'dark-custom text-light' },
            { selector: '.faq-button',removeClasses: 'text-dark', classes: 'text-light' },
            { selector: '.collapse', classes: 'dark-custom2 text-light' },
            { selector: '.input-group-text', classes: 'border-dark dark-custom text-light' },
            { selector: '.form-control', classes: 'border-dark dark-custom text-light' },
            { selector: 'footer', removeClasses: 'bg-light', classes: 'dark-custom2 text-light' },
            { selector: '.btn', removeClasses: 'bg-secondary bg-light text-dark', classes: 'bg-secondary border-dark dark-custom2 text-light' },
        ];

        /**
         * Enable dark mode by adding appropriate classes.
         */
         function enableDarkMode(fromToggle = false) {
            darkModeClassToggles.forEach((item) => {
                if (item.removeClasses) {
                    $(item.selector).removeClass(item.removeClasses);
                }
                if (item.addClasses) {
                    $(item.selector).addClass(item.addClasses);
                }
                if (item.classes) {
                    $(item.selector).addClass(item.classes);
                }
            });
            // Adjust hr border color
            $('hr').css('border-top', '1px solid #666');
            $('meta[name="theme-color"]').attr('content', '#1d1f29');
    
            localStorage.setItem('nDarkMode', 'true');
            $('#darkModeMenu').html(getTranslation('disableDarkMode', languageIndex));
        }
    
        /**
         * Disable dark mode by removing appropriate classes.
         */
        function disableDarkMode() {
            darkModeClassToggles.forEach((item) => {
                if (item.classes) {
                    $(item.selector).removeClass(item.classes);
                }
                if (item.removeClasses) {
                    $(item.selector).addClass(item.removeClasses);
                }
                if (item.addClasses) {
                    $(item.selector).removeClass(item.addClasses);
                }
            });
            // Reset hr border color
            $('hr').css('border-top', '');
            $('meta[name="theme-color"]').attr('content', '#ffffff');
    
            localStorage.setItem('nDarkMode', 'false');
            $('#darkModeMenu').html(getTranslation('enableDarkMode', languageIndex));
        }

        function setAutoDarkMode () {
            if (darkModeDeviceIsActive()) {
                enableDarkMode();
            } else {
                disableDarkMode();
            }
        }
        /**
         * Get device dark mode information
         * 
         * @returns {boolean} Returns True if device dark mode is enabled
         */
        function darkModeDeviceIsActive() {
            return (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);
        }
    
        // =======================================
        // Section Transition Handling
        // =======================================
    
        const menuOrder = ['encryptSection', 'convertSection', 'aboutSection'];
        let isTransitioning = false;
        let currentMenu = getSectionFromURL();
    
        /**
         * Parses the URL parameters to determine which section to display.
         * If no section is specified in the URL, it attempts to retrieve
         * the last visited section from localStorage. If that also fails,
         * it defaults to 'convertSection'.
         * 
         * @returns {string} The ID of the section to display.
         */
        function getSectionFromURL() {
            const params = new URLSearchParams(window.location.search);

            // Check URL parameters for specific sections
            if (params.has('about')) return 'aboutSection';
            if (params.has('encrypt')) return 'encryptSection';
            if (params.has('convert')) return 'convertSection';

            // No section specified in URL, attempt to retrieve from localStorage
            const lastSite = localStorage.getItem("nLastSite");

            return lastSite || 'convertSection';
        }
    
        /**
         * Set initial positions of sections based on the current menu.
         * Positions other sections off-screen to the left or right.
         */
        function setInitialSectionPositions() {
            const currentIndex = menuOrder.indexOf(currentMenu);
            menuOrder.forEach((section, index) => {
                const $section = $(`#${section}`);
                const offset = (index - currentIndex) * 100; // Offset in percent

                // Set the left position
                $section.css('left', `${offset}%`);

                // Set position property
                if (index === currentIndex) {
                    // Visible section contributes to page height
                    $section.css('position', 'relative');
                } else {
                    // Off-screen sections do not contribute to page height
                    $section.css('position', 'absolute');
                }
            });
        }
    
        /**
         * Update the URL parameter to reflect the current section, language and private algorithm ID.
         */
        function updateURLParameter() {
            const paramName = currentMenu.replace('Section', '');
            let newURL = `${window.location.protocol}//${window.location.host}${window.location.pathname}?${paramName}`;
    
            if (languageCode !== 'en') {
                newURL += `&lang=${languageCode}`;
            }

            if (privateConversionId) {
                newURL += `&id=${privateConversionId}`;
            }
    
            window.history.pushState({ path: newURL }, '', newURL);
        }
    
        /**
         * Check if two sections are adjacent in the menu order.
         * @param {string} from - The ID of the current section.
         * @param {string} to - The ID of the target section.
         * @returns {boolean} True if the sections are adjacent.
         */
        function areAdjacent(from, to) {
            const fromIndex = menuOrder.indexOf(from);
            const toIndex = menuOrder.indexOf(to);
            return Math.abs(fromIndex - toIndex) === 1;
        }
    
        /**
         * Animates the transition between two sections by adjusting their positions.
         * @param {string} fromDiv - The ID of the current section.
         * @param {string} toDiv - The ID of the target section.
         * @param {function} callback - Callback function after animation completes.
         */
         function animateTransition(fromDiv, toDiv, callback) {
            const fromIndex = menuOrder.indexOf(fromDiv);
            const toIndex = menuOrder.indexOf(toDiv);
            const offset = (toIndex - fromIndex) * 100; // Calculate the offset

            // Update positions and positions properties
            if ( fromIndex < toIndex ) {
                $(`#${fromDiv}`).css('position', 'absolute');
                $(`#${toDiv}`).css('position', 'relative');
            }

            $(`#${toDiv}`).removeClass('d-none');
           

            // Animate the 'from' section off-screen
            $(`#${fromDiv}`).animate({ left: `${-offset}%` }, 500);

            // Bring the 'to' section into view
            $(`#${toDiv}`).css('left', `${offset}%`).animate({ left: '0%' }, 500, function () {
                if ( fromIndex > toIndex ) {
                    $(`#${fromDiv}`).css('position', 'absolute');
                    $(`#${toDiv}`).css('position', 'relative');
                    $(`#${fromDiv}`).addClass('d-none');
                }
                if (typeof callback === 'function') callback();

            });
        }
            
        /**
         * Transition to the target section with an animation.
         * @param {string} targetDiv - The ID of the target section.
         * @param {boolean} [pushState=true] - Whether to update the browser history.
         */
        function transitionToSection(targetDiv, pushState = true) {
            if (isTransitioning || targetDiv === currentMenu) return;
    
            isTransitioning = true;
            const needsIntermediate = !areAdjacent(currentMenu, targetDiv);
    
            if (needsIntermediate) {
                const intermediate = 'convertSection';
                animateTransition(currentMenu, intermediate, () => {
                    currentMenu = intermediate;
                    animateTransition(intermediate, targetDiv, () => {
                        currentMenu = targetDiv;
                        isTransitioning = false;
                        
                        updatePrivateAlgorithmFromUrl();
                        if (pushState) updateURLParameter();
                        updateLanguageMenuLinks();
                        updateNavigationLinks();
                        updateMetadata();
                        localStorage.setItem('nLastSite', currentMenu)
                    });
                });
            } else {
                animateTransition(currentMenu, targetDiv, () => {
                    currentMenu = targetDiv;
                    isTransitioning = false;
                    
                    updatePrivateAlgorithmFromUrl();
                    if (pushState) updateURLParameter();
                    updateLanguageMenuLinks();
                    updateNavigationLinks();
                    updateMetadata();
                    localStorage.setItem('nLastSite', currentMenu)
                });
            }
    
            // Collapse the navbar if in mobile mode
            if ($('.navbar-toggler').is(':visible')) {
                $('.navbar-collapse').collapse('hide');
            }
        }
    
        /**
         * Parses a URL string to determine which section to display.
         * @param {string} url - The URL string to parse.
         * @returns {string} The ID of the section to display.
         */
        function getSectionFromURLString(url) {
            const params = new URLSearchParams(url.substring(1)); // Remove '?' from the start
            if (params.has('about')) return 'aboutSection';
            if (params.has('encrypt')) return 'encryptSection';
            if (params.has('convert')) return 'convertSection';
            return 'convertSection'; // Default section
        }
    
        /**
         * Updates the page's metadata based on the current section.
         */
        function updateMetadata() {
            let title, description;
    
            switch (currentMenu) {
                case 'encryptSection':
                    title = getTranslation('metaTitleEncrypt', languageIndex);
                    description = getTranslation('metaDescriptionEncrypt', languageIndex);
                    break;
                case 'convertSection':
                    title = getTranslation('metaTitleConvert', languageIndex);
                    description = getTranslation('metaTitleEncrypt', languageIndex);
                    break;
                case 'aboutSection':
                    title = getTranslation('metaTitleAbout', languageIndex);
                    description = getTranslation('metaDescriptionAbout', languageIndex);
                    break;
            }
    
            document.title = title;
            $('meta[name="description"]').attr('content', description);
        }
    
        /**
         * Display an error that the browser does not support the app because of missing crypto API
         */
        function handleCryptoSupport () {
            if (!window.crypto || !window.crypto.subtle) {
                $("#errorHeader").removeClass("d-none");
            }
        }

        // =======================================
        // Event Handlers and Initialization
        // =======================================
    
        $(document).ready(async function () {

            // Migrate local Storage Keys
            const lsKeys = ['pa','lang','darkMode','lastSite','informationHidden']
            migrateLocalStorageKeys(lsKeys);


            // Initialize language and UI
            updateUILanguage();

            handleCryptoSupport();

            currentMenu = getSectionFromURL();
            setInitialSectionPositions();
            updateMetadata();
            updatePrivateAlgorithmFromUrl();
            updateURLParameter();
            $(".versionFooter").html(getVersion());

            if(localStorage.getItem('nInformationHidden')) {
                hideInformation();
            }
    
            // Handle back/forward button navigation
            window.onpopstate = function () {
                const targetSection = getSectionFromURL();
                transitionToSection(targetSection, false);
    
                // Update language if changed in URL
                const langCode = getLanguageCodeFromURL();
                if (langCode !== languageCode) {
                    languageCode = langCode || 'en';
                    languageIndex = getLanguageIndexFromCode(languageCode);
                    localStorage.setItem('nLang', languageCode);
                    updateUILanguage();
                }

                updatePrivateAlgorithmFromUrl();
            };
    
            // Dark Mode Toggle
            setAutoDarkMode();
    
            $('#darkModeMenu').click(function () {
                handleDarkModeToggle()
            });

            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                if (event.matches) {
                    enableDarkMode();
                } else {
                    disableDarkMode();
                }
            });
    
            // encrypt the localStorage keys using a fixed key
            await encryptKeys();

            let actionInProgress = false;

            // Encrypt/Decrypt Button Click Handler
            $('#encryptDecryptButton').click(async function () {
                const $thisButton = $(this);
                const inputText = $('#encryptMessageInput').val();
    
                // Show error if input text is empty
                if (!inputText) {
                    $thisButton.html(getTranslation('error', languageIndex)).addClass('custom-red-border');
                    await new Promise((r) => setTimeout(r, 1000));
                    $thisButton.html(getTranslation('encryptDecryptButton', languageIndex)).removeClass('custom-red-border');
                    return;
                }
    
                const inputType = checkInputString(inputText);

                if (actionInProgress) return;

    
                if (!inputType) {
                    // Encryption
                    $thisButton.html(getTranslation('btnEncodeWorking', languageIndex));
    
                    const message = inputText;
                    const keyInput = $('#keyInput').val();

                    actionInProgress = true;
    
                    const emojiString = await encrypt(message, keyInput);

                    if (!emojiString) {
                        $thisButton.html(getTranslation('btnEncodeFailed', languageIndex)).addClass('custom-red-border');
                    } else {
                        $('#encryptOutputTextarea').val(emojiString);
                        $thisButton.html(getTranslation('btnEncodeSuccess', languageIndex)).addClass('custom-green-border');
                    }

                } else {
                    // Decryption
                    $thisButton.html(getTranslation('btnDecodeWorking', languageIndex));
    
                    const message = inputText;
                    const keyInput = $('#keyInput').val();

                    actionInProgress = true;
    
                    const decryptedText = await decrypt(message, keyInput);

                    if (!decryptedText) {
                        $thisButton.html(getTranslation('btnDecodeFailed', languageIndex)).addClass('custom-red-border');
                        $('#encryptOutputTextarea').val('');
                    } else {
                        $('#encryptOutputTextarea').val(decryptedText);
                        $thisButton.html(getTranslation('btnDecodeSuccess', languageIndex)).addClass('custom-green-border');
                    }
                }
    
                await new Promise((r) => setTimeout(r, 4000));
                actionInProgress = false;
                $thisButton.html(getTranslation('encryptDecryptButton', languageIndex)).removeClass('custom-red-border').removeClass('custom-green-border');
            });
    
            // Convert Button Click Handler
            $('#convertButton').click(async function () {
                const $thisButton = $(this);
                const inputText = $('#convertMessageInput').val();
    
                // Show error if input text is empty
                if (!inputText) {
                    $thisButton.html(getTranslation('error', languageIndex)).addClass('custom-red-border');
                    await new Promise((r) => setTimeout(r, 1000));
                    $thisButton.html(getTranslation('convertButton', languageIndex)).removeClass('custom-red-border');
                    return;
                }

                if (actionInProgress) return;
    
                const inputType = checkInputString(inputText);
    
                if (!inputType) {
                    // Encoding
                    $thisButton.html(getTranslation('btnEncodeWorkingConvert', languageIndex));

                    const doSimpleEncrypt = $('#doSimpleEncryption').prop('checked');

                    actionInProgress = true;
    
                    const encodedText = await encode(inputText, customEmojiArray, doSimpleEncrypt);
    
                    if (!encodedText) {
                        $thisButton.html(getTranslation('btnEncodeFailedConvert', languageIndex)).addClass('custom-red-border');
                    } else {
                        $('#convertOutputTextarea').val(encodedText);
                        $thisButton.html(getTranslation('btnEncodeSuccessConvert', languageIndex)).addClass('custom-green-border');
                    }
                } else {
                    // Decoding
                    $thisButton.html(getTranslation('btnDecodeWorkingConvert', languageIndex));

                    const doSimpleEncrypt = $('#doSimpleEncryption').prop('checked');
    
                    actionInProgress = true;

                    const decodedText = await decode(inputText, customEmojiArray, doSimpleEncrypt);
    
                    if (!decodedText) {
                        $thisButton.html(getTranslation('btnDecodeFailedConvert', languageIndex)).addClass('custom-red-border');
                        $('#convertOutputTextarea').val('');
                    } else {
                        $('#convertOutputTextarea').val(decodedText);
                        $thisButton.html(getTranslation('btnDecodeSuccessConvert', languageIndex)).addClass('custom-green-border');
                    }
                }
    
                await new Promise((r) => setTimeout(r, 3000));
                $thisButton.html(getTranslation('convertButton', languageIndex)).removeClass('custom-red-border').removeClass('custom-green-border');
                actionInProgress = false;
            });
    
            // Clear input text
            $('#clearEncryptInputButton').click(() => $('#encryptMessageInput').val(''));
            $('#clearConvertInputButton').click(() => $('#convertMessageInput').val(''));
    
            // Generate random key
            $('#generateKeyButton').click(async () => $('#keyInput').val(await generateRandomKey()));
    
            // Copy key to clipboard
            $('#copyKeyButton').click(async () => {
                const copyText = document.getElementById('keyInput');
                copyText.select();
                document.execCommand('copy');
                copyText.setSelectionRange(0, 0);
                window.getSelection().removeAllRanges();

                const $thisButton = $(this);
                if ($thisButton.data('handling')) return;
                $thisButton.data('handling', true);

                $('#copyKeyButton').html("‚úÖ");
                await new Promise((r) => setTimeout(r, 3000));
                $('#copyKeyButton').html(getTranslation('copyKeyButton', languageIndex));

                $thisButton.data('handling', false);
            });
    
            // Copy output message to clipboard
            $('#copyEncryptOutputButton').click(async () => {
                const copyText = document.getElementById('encryptOutputTextarea');
                copyText.select();
                document.execCommand('copy');
                copyText.setSelectionRange(0, 0);
                window.getSelection().removeAllRanges();

                const $thisButton = $(this);
                if ($thisButton.data('handling')) return;
                $thisButton.data('handling', true);
                
                $('#copyEncryptOutputButton').html("‚úÖ");
                await new Promise((r) => setTimeout(r, 4000));
                $('#copyEncryptOutputButton').html(getTranslation('copyKeyButton', languageIndex));
                $thisButton.data('handling', false);

            });
    
            $('#copyConvertOutputButton').click(async () => {
                const copyText = document.getElementById('convertOutputTextarea');
                copyText.select();
                document.execCommand('copy');
                copyText.setSelectionRange(0, 0);
                window.getSelection().removeAllRanges();

                const $thisButton = $(this);
                if ($thisButton.data('handling')) return;
                $thisButton.data('handling', true);
                

                $('#copyConvertOutputButton').html("‚úÖ");
                await new Promise((r) => setTimeout(r, 4000));
                $('#copyConvertOutputButton').html(getTranslation('copyConvertOutputButton', languageIndex));
                $thisButton.data('handling', false);
            });

            $('#copyPrivateConversionLink').click(async () => {
                const $thisButton = $(this);

                if (privateConversionId) {
                    const copyText = document.getElementById('privateConversionLink');
                    copyText.select();
                    document.execCommand('copy');
                    copyText.setSelectionRange(0, 0);
                    copyText.blur();

                    if ($thisButton.data('handling')) return;
                    $thisButton.data('handling', true);

                    $('#copyPrivateConversionLink').html("‚úÖ");
                    await new Promise((r) => setTimeout(r, 4000));
                    $('#copyPrivateConversionLink').html(getTranslation('copyPrivateConversionLink', languageIndex));
                    $thisButton.data('handling', false);
                } else {
                    if ($thisButton.data('handling')) return;
                    $thisButton.data('handling', true);

                    $('#copyPrivateConversionLink').html("‚ùå");
                    await new Promise((r) => setTimeout(r, 4000));
                    $('#copyPrivateConversionLink').html(getTranslation('copyPrivateConversionLink', languageIndex));
                    $thisButton.data('handling', false);
                }
               
            });
    
            // Load key from local storage
            $('#loadKeyButton').click(async function () {
                const $thisButton = $(this);
                const slot = $('#keySlotSelect').val();
                const storedKey = await readSingleKey(slot);
    
                $thisButton.html(getTranslation('loadKey', languageIndex));

                if ($thisButton.data('handling')) return;
                $thisButton.data('handling', true);
    
                if (storedKey) {
                    $('#keyInput').val(storedKey);
                } else {
                    $thisButton.html(getTranslation('error', languageIndex));
                }
    
                await new Promise((r) => setTimeout(r, 1500));
                $thisButton.html(getTranslation('loadKeyButton', languageIndex));
                $thisButton.data('handling', false);
            });
    
            // Save key to local storage
            $('#saveKeyButton').click(async function () {
                const $thisButton = $(this);
                const slot = $('#keySlotSelect').val();
                const key = $('#keyInput').val();
                if ($thisButton.data('handling')) return;
                $thisButton.data('handling', true);

                if (key) {
                    await saveSingleKey(slot, key);
                    $thisButton.html(getTranslation('saved', languageIndex));
                } else {
                    $thisButton.html(getTranslation('error', languageIndex));
                }
    
                await new Promise((r) => setTimeout(r, 1500));
                $thisButton.data('handling', false);
                $thisButton.html(getTranslation('saveKeyButton', languageIndex));
            });

            // Handle generate private algorithm button
            $('#generatePrivateConversionButton').click(async function () {
                const $thisButton = $(this);

                if ($thisButton.data('handling')) return;
                $thisButton.data('handling', true);

                privateConversionId = generateSecureRandomString();
                customEmojiArray = await generateSecurePermutationFromString(privateConversionId, getEmojiArray());
                updateURLParameter();
                localStorage.setItem("nPa", privateConversionId);

                $('#privateConversionLink').val(window.location.href);
                $('#disablePrivateConversionButton').removeClass('d-none');
                $('#convertSimpleEncryptionSection').removeClass('d-none');
                $('#convertTopMessage').removeClass('d-none').html(getTranslation('privateAlgorithmHeader', languageIndex));
                $thisButton.text(getTranslation('btnPrivateAlgorithmGenerated', languageIndex)).addClass('border-success');
                await new Promise((r) => setTimeout(r, 4000));
                $thisButton.text(getTranslation('generatePrivateConversionButton', languageIndex)).removeClass('border-success');
                $thisButton.data('handling', false);
            });

            // Handle remove private algorithm button
            $('#disablePrivateConversionButton').click(async function () {
                if (customEmojiArray) {
                    if (confirm(getTranslation('modalDisablePrivateAlgorithm', languageIndex))) {
                        if (localStorage.getItem("nPa")) {
                            localStorage.removeItem("nPa");
                        }
                        const $thisButton = $(this);
                        privateConversionId = null;
                        customEmojiArray = null;
                        updateURLParameter();
                        $('#privateConversionLink').val(null);
                        $('#convertTopMessage').addClass('d-none');
                        $('#convertSimpleEncryptionSection').addClass('d-none');
                        $thisButton.text(getTranslation('btnPrivateAlgorithmRemoved', languageIndex));
                        await new Promise((r) => setTimeout(r, 4000));
                        $thisButton.addClass('d-none');
                        $thisButton.text(getTranslation('disablePrivateConversionButton', languageIndex));
                    }
                }
            });
    
            // Attach click handlers to menu links
            $('a.nav-link, a.dropdown-item').click(function (e) {
                const href = $(this).attr('href');
    
                // Only handle internal links with query parameters
                if (href && href.startsWith('?')) {
                    e.preventDefault();
                    const targetSection = getSectionFromURLString(href);
                    transitionToSection(targetSection);
                }
            });
    
            // Handle clicks on language menu links
            $('#languageMenuItems a.dropdown-item').click(function (e) {
                e.preventDefault();
                const href = $(this).attr('href');
                const newLangCode = $(this).attr('data-lang-code');
    
                // Update the language code in local storage
                localStorage.setItem('nLang', newLangCode);
    
                // Update the languageIndex
                languageCode = newLangCode;
                languageIndex = getLanguageIndexFromCode(languageCode);
    
                // Update the UI language
                updateUILanguage();
                updateMetadata();
    
                // Update the URL
                history.pushState(null, '', href);
            });

            // Hide Information
            $('.hide-information').click(async function () {
                if (confirm("Do you really want to hide this information tab forever?")) {
                        localStorage.setItem('nInformationHidden', 'true')
                        hideInformation();
                    }
            });

            $('.btn').on('pointerdown', function (e) {
                e.preventDefault(); // Prevent default behavior if necessary

                const button = $(this);

                // Prevent handling multiple clicks simultaneously
                if (button.data('clickHandled')) return;
                button.data('clickHandled', true);

                button.addClass('btn-font-animate');
                void button[0].offsetWidth;

                // Remove the class after animation completes
                setTimeout(function () {
                    button.removeClass('btn-font-animate');
                    button.removeClass('active').blur();
                    button.data('clickHandled', false);
                }, 400); 
            });
        });
    </script>    
</body>

</html>
