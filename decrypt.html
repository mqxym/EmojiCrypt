<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Emojiworld!</title>
  </head>
  <body class="d-block p-3">
	<ul class="nav nav-pills nav-fill">
	  <li class="nav-item">
		<a class="nav-link" href="encrypt.html">Create</a>
	  </li>
	  <li class="nav-item">
		<a class="nav-link active bg-dark" href="decrypt.html">Use</a>
	  </li>
	</ul>
	<hr>
	<form class="form">
	  <label for="basic-url">Emoji to text</label>
	  <div class="input-group">
		<div class="input-group-prepend">
			<span class="input-group-text">Text</span>
		</div>
		<textarea class="form-control" placeholder="Paste message" aria-label="Emoji" id="inputText" rows="5"></textarea>
	  </div>
	    <label for="emcode">Decrypt messages with an optional password</label>
		<div class="input-group mb-3">
		  <div class="input-group-prepend">
			<span class="input-group-text" id="emcode">Key</span>
		  </div>
		  <input type="text" placeholder="(optional)" class="form-control" id="inputKey" aria-describedby="emcode">
		</div>
	 <button id="btnDecode" type="button" class="btn bg-dark btn-block">Convert / Decrypt</button>
	</form>
	<hr>
	<div class="input-group mb-3">
	  <textarea class="form-control" aria-label="Emoji" id="messageOut" rows="10" readonly>Your message</textarea>
	</div>
	<hr>
	<p class="text-center">
	<b>On device AES encryption. No data sent. No cookies.<br> Anti-Bruteforce/ASIC</b>
	</p>




    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script src="crypto.js"></script>
	<script src="emo.js"></script>
	<script>
	let emo = "ðŸ˜ƒðŸ˜„ðŸ˜ðŸ˜†ðŸ˜…ðŸ˜‚ðŸ¤£â˜ºï¸ðŸ˜ŠðŸ˜‡ðŸ™‚ðŸ™ƒðŸ˜‰ðŸ˜ŒðŸ˜ðŸ˜˜ðŸ˜—ðŸ˜™ðŸ˜šðŸ˜‹ðŸ˜œðŸ˜ðŸ˜›ðŸ¤‘ðŸ¤—ðŸ¤“ðŸ˜ŽðŸ¤¡ðŸ¤ ðŸ˜ðŸ˜’ðŸ˜žðŸ˜”ðŸ˜ŸðŸ˜•ðŸ™â˜¹ï¸ðŸ˜£ðŸ˜–ðŸ˜«ðŸ˜©ðŸ˜¤ðŸ˜ ðŸ˜¡ðŸ˜¶ðŸ˜ðŸ˜‘ðŸ˜¯ðŸ˜¦ðŸ˜§ðŸ˜®ðŸ˜²ðŸ˜µðŸ˜³ðŸ˜±ðŸ˜¨ðŸ˜°ðŸ˜¢ðŸ˜¥ðŸ¤¤ðŸ˜­ðŸ˜“ðŸ˜ªðŸ˜´ðŸ™„ðŸ¤”ðŸ¤¥ðŸ˜¬ðŸ¤ðŸ¤¢ðŸ¤®ðŸ¤§ðŸ˜·ðŸ¤’ðŸ¤•ðŸ¤¨ðŸ¤©ðŸ¤¯ðŸ§ðŸ¤«ðŸ¤ªðŸ¤­ðŸ¥±ðŸ¥³ðŸ¥´ðŸ¥¶ðŸ¥µðŸ˜ˆðŸ‘¿ðŸ¤¬ðŸ‘¹ðŸ‘ºðŸ’©ðŸ‘»ðŸ’€â˜ ï¸ðŸ‘½ðŸ‘¾ðŸ¤–ðŸŽƒðŸ˜ºðŸ˜¸ðŸ˜¹ðŸ˜»ðŸ˜¼ðŸ˜½ðŸ˜¿ðŸ˜¾ðŸ™€ðŸ¶ðŸ±ðŸ­ðŸ¹ðŸ°ðŸ¦ŠðŸ»ðŸ¼ðŸ¨ðŸ¯ðŸ¦ðŸ®ðŸ·ðŸ½ðŸ¸ðŸµðŸ™ˆðŸ™‰ðŸ™ŠðŸ’ðŸ”ðŸ§ðŸ¦ðŸ¤ðŸ£ðŸ¥ðŸ¦†ðŸ¦…ðŸ¦‰ðŸ¦‡ðŸºðŸ—ðŸ´ðŸ¦„ðŸðŸ›ðŸ¦‹ðŸŒðŸšðŸžðŸœðŸ•·ðŸ•¸ðŸ¢ðŸðŸ¦ŽðŸ¦‚ðŸ¦€ðŸ¦‘ðŸ™ðŸ¦ðŸ ðŸŸðŸ¡ðŸ¬ðŸ¦ˆðŸ³ðŸ‹ðŸŠðŸ†ðŸ…ðŸƒðŸ‚ðŸ„ðŸ¦ŒðŸªðŸ«ðŸ˜ðŸ¦ðŸ¦ðŸŽðŸ–ðŸðŸðŸ‘ðŸ•ðŸ©ðŸˆðŸ“ðŸ¦ƒðŸ•ŠðŸ‡ðŸðŸ€ðŸ¿ðŸ¾ðŸ‰ðŸ²ðŸ¦–ðŸ¦•ðŸ¦’ðŸ¦”ðŸ¦“ðŸ¦—ðŸ¦§ðŸ¦®ðŸ¦¥ðŸ¦¦ðŸ¦¨ðŸ¦©ðŸŒµðŸŽ„ðŸŒ²ðŸŒ³ðŸŒ´ðŸŒ±ðŸŒ¿â˜˜ï¸ðŸ€ðŸŽðŸŽ‹ðŸƒðŸ‚ðŸðŸ„ðŸŒ¾ðŸ’ðŸŒ·ðŸŒ¹ðŸ¥€ðŸŒ»ðŸŒ¼ðŸŒ¸ðŸŒºðŸŒŽðŸŒðŸŒðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒšðŸŒðŸŒžðŸŒ›ðŸŒœðŸŒ™ðŸ’«â­ï¸ðŸŒŸâœ¨âš¡ï¸ðŸ”¥ðŸ’¥â˜„ï¸ðŸ›¸â˜€ï¸ðŸŒ¤â›…ï¸ðŸŒ¥ðŸŒ¦ðŸŒˆâ˜ï¸ðŸŒ§â›ˆðŸŒ©ðŸŒ¨â˜ƒï¸â›„ï¸â„ï¸ðŸŒ¬ðŸ’¨ðŸŒªðŸŒ«ðŸŒŠðŸ’§ðŸ’¦â˜”ï¸ðŸðŸŽðŸðŸŠðŸ‹ðŸŒðŸ‰ðŸ‡ðŸ“ðŸˆðŸ’ðŸ‘ðŸðŸ¥ðŸ¥‘ðŸ…ðŸ†ðŸ¥’ðŸ¥•ðŸŒ½ðŸŒ¶ðŸ¥”ðŸ ðŸŒ°ðŸ¥œðŸ¯ðŸ¥ðŸžðŸ¥–ðŸ§€ðŸ¥šðŸ³ðŸ¥“ðŸ§„ðŸ§…ðŸ¥žðŸ§‡ðŸ¤ðŸ—ðŸ–ðŸ•ðŸŒ­ðŸ”ðŸŸðŸ¥™ðŸŒ®ðŸŒ¯ðŸ¥—ðŸ¥˜ðŸðŸœðŸ¦ªðŸ²ðŸ¥ðŸ£ðŸ±ðŸ›ðŸšðŸ§†ðŸ™ðŸ˜ðŸ¢ðŸ¡ðŸ§ðŸ¨ðŸ¦ðŸ°ðŸŽ‚ðŸ®ðŸ­ðŸ¬ðŸ«ðŸ¿ðŸ©ðŸªðŸ¥›ðŸ§ˆðŸ¼â˜•ï¸ðŸµðŸ¶ðŸºðŸ»ðŸ¥‚ðŸ·ðŸ¥ƒðŸ¸ðŸ¹ðŸ¾ðŸ§‰ðŸ§ƒðŸ§ŠðŸ¥„ðŸ´ðŸ½âš½ï¸ðŸ€ðŸˆâš¾ï¸ðŸŽ¾ðŸðŸ‰ðŸŽ±ðŸ“ðŸ¸ðŸ¥…ðŸ’ðŸ‘ðŸâ›³ï¸ðŸ¹ðŸŽ£ðŸ¥ŠðŸ¥‹â›¸ðŸŽ¿â›·ðŸ‚ðŸ‹ï¸â€â™€ï¸ðŸ‹ï¸ðŸ¤ºðŸ¤¼â€â™€ï¸ðŸ¤¼â€â™‚ï¸ðŸ¤¸â€â™€ï¸ðŸ¤¸â€â™‚ï¸â›¹ï¸â€â™€ï¸â›¹ï¸ðŸ¤¾â€â™€ï¸ðŸ¤¾â€â™‚ï¸ðŸŒï¸â€â™€ï¸ðŸŒï¸ðŸ„â€â™€ï¸ðŸ„ðŸŠâ€â™€ï¸ðŸŠðŸ¤½â€â™€ï¸ðŸ¤½â€â™‚ï¸ðŸš£â€â™€ï¸ðŸš£ðŸ¤¿ðŸ‡ðŸš´â€â™€ï¸ðŸš´ðŸšµâ€â™€ï¸ðŸšµðŸŽ–ðŸ¥‡ðŸ¥ˆðŸ¥‰ðŸ†ðŸµðŸŽ—ðŸŽ«ðŸŽŸðŸŽªðŸ¤¹â€â™€ï¸ðŸ¤¹â€â™‚ï¸ðŸŽ­ðŸŽ¨ðŸŽ¬ðŸŽ¤ðŸŽ§ðŸŽ¼ðŸŽ¹ðŸ¥ðŸŽ·ðŸŽºðŸŽ¸ðŸŽ»ðŸª•ðŸŽ²ðŸŽ¯ðŸŽ³ðŸª€ðŸªðŸŽ®ðŸŽ°ðŸš—ðŸš•ðŸš™ðŸšŒðŸšŽðŸŽðŸš“ðŸš‘ðŸš’ðŸšðŸššðŸš›ðŸšœðŸ›´ðŸš²ðŸ›µðŸðŸ›ºðŸš¨ðŸš”ðŸšðŸš˜ðŸš–ðŸš¡ðŸš ðŸšŸðŸšƒðŸš‹ðŸšžðŸšðŸš„ðŸš…ðŸšˆðŸš‚ðŸš†ðŸš‡ðŸšŠðŸš‰ðŸšðŸ›©âœˆï¸ðŸ›«ðŸ›¬ðŸª‚ðŸ’ºðŸ›¶â›µ  ðŸ›³â›´ðŸš¢âš“ï¸ðŸš§â›½ï¸ðŸšðŸš¦ðŸš¥ðŸ—ºðŸ—¿ðŸ—½â›²ï¸ðŸ—¼ðŸ°ðŸ¯ðŸŸðŸŽ¡ðŸŽ¢ðŸŽ â›±ðŸ–ðŸâ›°ðŸ”ðŸ—»ðŸŒ‹ðŸœðŸ•â›ºï¸ðŸ›¤ðŸ›£ðŸ—ðŸ­ðŸ ðŸ¡ðŸ˜ðŸšðŸ¢ðŸ¬ðŸ£ðŸ¤ðŸ¥ðŸ¦ðŸ¨ðŸªðŸ«ðŸ©ðŸ’’ðŸ›â›ªï¸ðŸ•ŒðŸ•ðŸ›•ðŸ•‹â›©ðŸ—¾ðŸŽ‘ðŸžðŸŒ…ðŸŒ„ðŸŒ ðŸŽ‡ðŸŽ†ðŸŒ‡ðŸŒ†ðŸ™ðŸŒƒðŸŒŒðŸªðŸŒ‰ðŸŒâŒšï¸ðŸ“±ðŸ“²ðŸ’»âŒ¨ðŸ–¥ðŸ–¨ðŸ–±ðŸ–²ðŸ•¹ðŸ—œðŸ’½ðŸ’¾ðŸ’¿ðŸ“€ðŸ“¼ðŸ“·ðŸ“¸ðŸ“¹ðŸŽ¥ðŸ“½ðŸŽžðŸ“žâ˜ŽðŸ“ŸðŸ“ ðŸ“ºðŸ“»ðŸŽ™ðŸŽšðŸŽ›â±â²â°ðŸ•°âŒ›ï¸â³ðŸ“¡ðŸ”‹ðŸ”ŒðŸ’¡ðŸ”¦ðŸ•¯ðŸ—‘ðŸ›¢ðŸ’¸ðŸ’µðŸ’´ðŸ’¶ðŸ’·ðŸ’°ðŸ’³ðŸ’ŽðŸ§¿âš–ï¸ðŸ”§ðŸ”¨âš’ðŸ› â›ðŸª“ðŸ”©âš™ï¸â›“ðŸ”«ðŸªðŸ’£ðŸª’ðŸ”ªðŸ—¡âš”ï¸ðŸ›¡ðŸš¬âš°ï¸âš±ï¸ðŸºðŸª”ðŸ”®ðŸ“¿ðŸ’ˆâš—ï¸ðŸ”­ðŸ”¬ðŸ•³ðŸ¦¯ðŸ©ºðŸ’ŠðŸ’‰ðŸ©¸ðŸ©¹ðŸ¦ ðŸ§«ðŸ§¬ðŸŒ¡ðŸš½ðŸš°ðŸš¿ðŸ›ðŸ›€ðŸ›ŽðŸ”‘ðŸ—ðŸšªðŸ›‹ðŸ›ðŸ›ŒðŸª‘ðŸ–¼ðŸ›ðŸ›’ðŸŽðŸŽˆðŸŽðŸŽ€ðŸŽŠðŸŽ‰ðŸŽŽðŸ®ðŸŽâœ‰ï¸ðŸ“©ðŸ“¨ðŸ“§ðŸ’ŒðŸ“¥ðŸ“¤ðŸ“¦ðŸ·ðŸ“ªðŸ“«ðŸ“¬ðŸ“­ðŸ“®ðŸ“¯ðŸ“œðŸ“ƒðŸ“„ðŸ“‘ðŸ“ŠðŸ“ˆðŸ“‰ðŸ—’ðŸ—“ðŸ“†ðŸ“…ðŸ“‡ðŸ—ƒðŸ—³ðŸ—„ðŸ“‹ðŸ“ðŸ“‚ðŸ—‚ðŸ—žðŸ“°ðŸ““ðŸ“”ðŸ“’ðŸ“•ðŸ“—ðŸ“˜ðŸ“™ðŸ“šðŸ“–ðŸ”–ðŸ”—ðŸ“ŽðŸ–‡ðŸ“ðŸ“ðŸ“ŒðŸ“ðŸŽŒðŸ³ï¸ðŸ´ðŸðŸ³ï¸â€ðŸŒˆâœ‚ï¸ðŸ–ŠðŸ–‹âœ’ï¸ðŸ–ŒðŸ–ðŸ“âœï¸ðŸ”ðŸ”ŽðŸ”ðŸ”ðŸ”’ðŸ”“ðŸ’„ðŸ‘šðŸ‘•ðŸ‘–ðŸ‘”ðŸ‘—ðŸ‘™ðŸ‘˜ðŸ‘ ðŸ‘¡ðŸ‘¢ðŸ‘žðŸ‘ŸðŸ‘’ðŸŽ©ðŸŽ“ðŸ‘‘â›‘ðŸŽ’ðŸ‘ðŸ‘›ðŸ‘œðŸ’¼ðŸ‘“ðŸ•¶ðŸŒ‚â˜‚ï¸ðŸ’›ðŸ’šðŸ’™ðŸ’œðŸ–¤ðŸ¤ŽðŸ¤ðŸ§¡ðŸ’”â£ï¸ðŸ’•ðŸ’žðŸ’“ðŸ’—ðŸ’–ðŸ’˜ðŸ’ðŸ’Ÿâ˜®ï¸âœï¸â˜ªï¸ðŸ•‰â˜¸ï¸âœ¡ï¸ðŸ”¯ðŸ•Žâ˜¯ï¸â˜¦ï¸ðŸ›â›Žâ™ˆï¸â™‰ï¸â™Šï¸â™‹ï¸â™Œï¸â™ï¸â™Žï¸â™ï¸â™ï¸â™‘ï¸â™’ï¸â™“ï¸ðŸ†”âš›ï¸ðŸˆ³ðŸ‰‘â˜¢ï¸â˜£ï¸ðŸ“´ðŸ“³ðŸˆ¶ðŸˆšï¸ðŸˆ¸ðŸˆºðŸˆ·ï¸âœ´ï¸ðŸ†šðŸ‰ãŠ™ï¸ãŠ—ï¸ðŸˆ´ðŸˆµðŸˆ¹ðŸˆ²ðŸ…°ï¸ðŸ…±ï¸ðŸ†ŽðŸ†‘ðŸ…¾ï¸ðŸ†˜ðŸš¼âŒâ­•ï¸ðŸ›‘â›”ï¸ðŸ“›ðŸš«ðŸ’¯ðŸ’®ðŸ’¢â™¨ï¸ðŸš·ðŸš¯ðŸš³ðŸš±ðŸ”žðŸ“µðŸš­â—ï¸â•â“â”â€¼ï¸â‰ï¸ðŸ”…ðŸ”†ã€½ï¸âš ï¸ðŸš¸ðŸ”±âšœï¸ðŸ”°â™»ï¸âœ…ðŸˆ¯ï¸ðŸ’¹â‡ï¸âœ³ï¸âŽðŸŒðŸ’ â“‚ï¸ðŸŒ€ðŸ’¤ðŸ§ðŸš¾â™¿ï¸ðŸ…¿ï¸ðŸˆ‚ï¸ðŸ›‚ðŸ›ƒðŸ›„ðŸ›…ðŸš¹ðŸšºðŸš»ðŸš®âž¿ðŸŽ¦ðŸ“¶ðŸˆðŸ”£â„¹ï¸ðŸ”¤ðŸ”¡ðŸ” ðŸ†–ðŸ†™ðŸ†’ðŸ†•ðŸ†“â–¶ï¸â¸â¯â¹âºâ­â®â©âªâ«â¬â—€ï¸ðŸ”¼ðŸ”½âž¡ï¸â¬…ï¸â¬†ï¸â¬‡ï¸â†—ï¸â†˜ï¸â†™ï¸â†–ï¸â†ªï¸â†©ï¸â¤´ï¸â¤µï¸ðŸ”€ðŸ”ðŸ”‚ðŸ”„ðŸ”ƒðŸ”šðŸ”™ðŸ”›ðŸ”ðŸ”œâ˜‘ï¸â†•ï¸â†”ï¸ðŸŽµðŸŽ¶âž•âž–âž—âœ–ï¸ðŸ’²ðŸ’±â„¢ï¸Â©ï¸Â®ï¸ã€°ï¸âž°âœ”ï¸ðŸ”˜âš«ï¸âšªï¸ðŸ”´ðŸ”µðŸŸ£â€‹ðŸŸ ðŸŸ¢ðŸŸ£ðŸ”ºðŸ”»ðŸ”¸ðŸ”¹ðŸ”¶ðŸ”·ðŸ”³ðŸ”²â–ªï¸â–«ï¸â—¾ï¸â—½ï¸â—¼ï¸â—»ï¸â¬›ï¸â¬œï¸ðŸŸ§ðŸŸ©ðŸŸ¦ðŸ”ˆðŸ”‡ðŸ”‰ðŸ”ŠðŸ””ðŸ”•ðŸ“£ðŸ“¢ðŸ‘â€ðŸ—¨ðŸ’¬ðŸ’­ðŸ—¯â™ ï¸â™£ï¸â™¥ï¸â™¦ï¸ðŸƒðŸŽ´ðŸ€„ï¸ðŸ•ðŸ•‘ðŸ•’ðŸ•“ðŸ•”ðŸ••ðŸ•–ðŸ•—ðŸ•˜ðŸ•™ðŸ•šðŸ•›ðŸ•œðŸ•ðŸ•žðŸ•¡ðŸ•¢ðŸ•£ðŸ•¤ðŸ•¥ðŸ•¦ðŸ•§"

	$(document).ready(function(){

		emo_array = stringToArray(emo);
		emo_array = cleanArray(emo_array);

		if (isDebug()) {
			$("#inputText").val("ðŸ¥³ðŸ¿ðŸ“ ðŸš¼ðŸ˜¸ðŸ¥›ðŸ’¾ðŸ“³ðŸ¦„ðŸšžðŸ—‚ðŸ‘›ðŸ¤”ðŸŽ±ðŸ“¬ðŸš¸ðŸŒšðŸðŸ“ƒðŸš«ðŸ‹ðŸªðŸ–²ðŸ–ŠðŸ¤®ðŸµðŸ­â†”ðŸ¬ðŸš—ðŸ“€â„¹"); 
			let key1 = $("#inputKey").val();
			$("#inputKey").val("test")
		}

		$("#btnDecode").click(async function(){
			$(this).html("Decrypting...");
			$(this).removeClass("bg-dark").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning");
			await new Promise(r => setTimeout(r, 15));
			let message = $("#inputText").val();
			let key = getPassword($("#inputKey").val(), getSecLevel());
			let hexString = emoToHex(message, emo_array);
			let baseString = hexToBase64(hexString);
			let decrypted = CryptoJS.AES.decrypt(baseString, key).toString(CryptoJS.enc.Utf8);
			console.log(decrypted);
			if (!decrypted) {
				$(this).removeClass("bg-warning").addClass("bg-danger");
				$(this).html("Failed. Wrong key/password?");
			} else {
				$(this).removeClass("bg-warning").addClass("bg-success");
				$(this).html("Decrypted!");
			}
			
			$("#messageOut").val(decrypted);
		});
	});
	
	</script> 
  </body>
</html>